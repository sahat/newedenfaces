!function(){var e,t,n;!function(r){function i(e,t){return x.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,c,u,f,d=t&&t.split("/"),p=y.map,h=p&&p["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),c=0;c<e.length;c+=1)if(f=e[c],"."===f)e.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||h)&&p){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),d)for(u=d.length;u>0;u-=1)if(i=p[d.slice(0,u).join("/")],i&&(i=i[r])){o=i,a=c;break}if(o)break;!s&&h&&h[r]&&(s=h[r],l=c)}!o&&s&&(o=s,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function a(e,t){return function(){return p.apply(r,w.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){g[e]=t}}function c(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,d.apply(r,t)}if(!i(g,e)&&!i(b,e))throw new Error("No "+e);return g[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var d,p,h,m,g={},v={},y={},b={},x=Object.prototype.hasOwnProperty,w=[].slice;h=function(e,t){var n,r=u(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=c(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),r=u(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:f(e)}}},d=function(e,t,n,o){var s,u,f,d,p,y,x=[],w=typeof n;if(o=o||e,"undefined"===w||"function"===w){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(d=h(t[p],o),u=d.f,"require"===u)x[p]=m.require(e);else if("exports"===u)x[p]=m.exports(e),y=!0;else if("module"===u)s=x[p]=m.module(e);else if(i(g,u)||i(v,u)||i(b,u))x[p]=c(u);else{if(!d.p)throw new Error(e+" missing "+u);d.p.load(d.n,a(o,!0),l(u),{}),x[p]=g[u]}f=n?n.apply(g[e],x):void 0,e&&(s&&s.exports!==r&&s.exports!==g[e]?g[e]=s.exports:f===r&&y||(g[e]=f))}else e&&(g[e]=n)},e=t=p=function(e,t,n,i,o){return"string"==typeof e?m[e]?m[e](t):c(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=i,i=o),i?d(r,e,t,n):setTimeout(function(){d(r,e,t,n)},4),p)},p.config=function(e){return y=e,y.deps&&p(y.deps,y.callback),p},e._defined=g,n=function(e,t,n){t.splice||(n=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),t.config({paths:{vendor:"./vendor",almond:"vendor/almond",underscore:"vendor/lodash.underscore.min",jquery:"vendor/jquery.min",backbone:"vendor/backbone-min",text:"vendor/requirejs-text",toastr:"vendor/toastr.min",alertify:"vendor/alertify.min","magnific-popup":"vendor/jquery.magnific-popup.min","bootstrap-dropdown":"vendor/bootstrap-dropdown",chart:"vendor/Chart.min"},shim:{backbone:{deps:["jquery","underscore"],exports:"Backbone"},"magnific-popup":{deps:["jquery"]},typeahead:{deps:["jquery"]},"bootstrap-dropdown":{deps:["jquery"]},toastr:{deps:["jquery"]},chart:{exports:"Chart"}}}),n("config",function(){}),function(){function e(e,t,n){n=(n||0)-1;for(var r=e?e.length:0;++n<r;)if(e[n]===t)return n;return-1}function t(e,t){var n=e.m,r=t.m;if(n!==r){if(n>r||"undefined"==typeof n)return 1;if(r>n||"undefined"==typeof r)return-1}return e.n-t.n}function r(e){return"\\"+mt[e]}function i(){}function o(e){return e instanceof o?e:new a(e)}function a(e,t){this.__chain__=!!t,this.__wrapped__=e}function s(e,t,n){if("function"!=typeof e)return Q;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return G(e,t)}function l(e,t,n,r){r=(r||0)-1;for(var i=e?e.length:0,o=[];++r<i;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Vt(a)||v(a))){t||(a=l(a,t,n));var s=-1,c=a.length,u=o.length;for(o.length+=c;++s<c;)o[u++]=a[s]}else n||o.push(a)}return o}function c(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(e===e&&!(e&&ht[typeof e]||t&&ht[typeof t]))return!1;if(null==e||null==t)return e===t;var i=It.call(e),a=It.call(t);if(i!=a)return!1;switch(i){case lt:case ct:return+e==+t;case ut:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case dt:case pt:return e==t+""}if(a=i==st,!a){if(jt.call(e,"__wrapped__")||t instanceof o)return c(e.__wrapped__||e,t.__wrapped__||t,n,r);if(i!=ft)return!1;var i=e.constructor,s=t.constructor;if(i!=s&&!(k(i)&&i instanceof i&&k(s)&&s instanceof s))return!1}for(n||(n=[]),r||(r=[]),i=n.length;i--;)if(n[i]==e)return r[i]==t;var l=!0,u=0;if(n.push(e),r.push(t),a){if(u=t.length,l=u==e.length)for(;u--&&(l=c(e[u],t[u],n,r)););return l}return Zt(t,function(t,i,o){return jt.call(o,i)?(u++,!(l=jt.call(e,i)&&c(e[i],t,n,r))&&nt):void 0}),l&&Zt(e,function(e,t,n){return jt.call(n,t)?!(l=-1<--u)&&nt:void 0}),l}function u(e,t,n){for(var r=-1,i=m(),o=e?e.length:0,a=[],s=n?[]:a;++r<o;){var l=e[r],c=n?n(l,r,e):l;(t?!r||s[s.length-1]!==c:0>i(s,c))&&(n&&s.push(c),a.push(l))}return a}function f(e){return function(t,n,r){var i={};n=J(n,r,3),r=-1;var o=t?t.length:0;if("number"==typeof o)for(;++r<o;){var a=t[r];e(i,a,n(a,r,t),t)}else Kt(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function d(e,t,n,r,i,o){var a=1&t,s=2&t,l=4&t,c=8&t,u=16&t,f=32&t,h=e;if(!s&&!k(e))throw new TypeError;if(u&&!n.length&&(t&=-17,u=n=!1),f&&!r.length&&(t&=-33,f=r=!1),!a||s||l||f||!(Wt.fastBind||At&&u))g=function(){var m=arguments,v=a?i:this;return(l||u||f)&&(m=Bt.call(m),u&&Ot.apply(m,n),f&&Nt.apply(m,r),l&&m.length<o)?(t|=16,d(e,c?t:-4&t,m,null,i,o)):(s&&(e=v[h]),this instanceof g?(v=p(e.prototype),m=e.apply(v,m),T(m)?m:v):e.apply(v,m))};else{if(u){var m=[i];Nt.apply(m,n)}var g=u?At.apply(e,m):At.call(e,i)}return g}function p(e){return T(e)?Mt(e):{}}function h(e){return Gt[e]}function m(){var t=(t=o.indexOf)===W?e:t;return t}function g(e){return Jt[e]}function v(e){return e&&"object"==typeof e&&"number"==typeof e.length&&It.call(e)==at||!1}function y(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)e[i]=r[i]}return e}function b(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)"undefined"==typeof e[i]&&(e[i]=r[i])}return e}function x(e){var t=[];return Zt(e,function(e,n){k(e)&&t.push(n)}),t.sort()}function w(e){for(var t=-1,n=Ut(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function C(e){if(!e)return!0;if(Vt(e)||S(e))return!e.length;for(var t in e)if(jt.call(e,t))return!1;return!0}function k(e){return"function"==typeof e}function T(e){return!(!e||!ht[typeof e])}function E(e){return"number"==typeof e||It.call(e)==ut}function S(e){return"string"==typeof e||It.call(e)==pt}function j(e){for(var t=-1,n=Ut(e),r=n.length,i=Array(r);++t<r;)i[t]=e[n[t]];return i}function _(e,t){var n=m(),r=e?e.length:0,i=!1;return r&&"number"==typeof r?i=-1<n(e,t):Kt(e,function(e){return(i=e===t)&&nt}),i}function N(e,t,n){var r=!0;t=J(t,n,3),n=-1;var i=e?e.length:0;if("number"==typeof i)for(;++n<i&&(r=!!t(e[n],n,e)););else Kt(e,function(e,n,i){return!(r=!!t(e,n,i))&&nt});return r}function I(e,t,n){var r=[];t=J(t,n,3),n=-1;var i=e?e.length:0;if("number"==typeof i)for(;++n<i;){var o=e[n];t(o,n,e)&&r.push(o)}else Kt(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function O(e,t,n){t=J(t,n,3),n=-1;var r=e?e.length:0;if("number"!=typeof r){var i;return Kt(e,function(e,n,r){return t(e,n,r)?(i=e,nt):void 0}),i}for(;++n<r;){var o=e[n];if(t(o,n,e))return o}}function A(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:s(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==nt;);else Kt(e,t)}function M(e,t){var n=e?e.length:0;if("number"==typeof n)for(;n--&&!1!==t(e[n],n,e););else{var r=Ut(e),n=r.length;Kt(e,function(e,i,o){return i=r?r[--n]:--n,!1===t(o[i],i,o)&&nt})}}function q(e,t,n){var r=-1,i=e?e.length:0;if(t=J(t,n,3),"number"==typeof i)for(var o=Array(i);++r<i;)o[r]=t(e[r],r,e);else o=[],Kt(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function P(e,t,n){var r=-1/0,i=r,o=-1,a=e?e.length:0;if(t||"number"!=typeof a)t=J(t,n,3),A(e,function(e,n,o){n=t(e,n,o),n>r&&(r=n,i=e)});else for(;++o<a;)n=e[o],n>i&&(i=n);return i}function L(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r)for(var i=Array(r);++n<r;)i[n]=e[n][t];return i||q(e,t)}function H(e,t,n,r){if(!e)return n;var i=3>arguments.length;t=s(t,r,4);var o=-1,a=e.length;if("number"==typeof a)for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);else Kt(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function D(e,t,n,r){var i=3>arguments.length;return t=s(t,r,4),M(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function F(e){var t=-1,n=e?e.length:0,r=Array("number"==typeof n?n:0);return A(e,function(e){var n=K(++t);r[t]=r[n],r[n]=e}),r}function R(e,t,n){var r;t=J(t,n,3),n=-1;var i=e?e.length:0;if("number"==typeof i)for(;++n<i&&!(r=t(e[n],n,e)););else Kt(e,function(e,n,i){return(r=t(e,n,i))&&nt});return!!r}function B(e,t,n){return n&&C(t)?et:(n?O:I)(e,t)}function $(e){for(var t=-1,n=m(),r=e.length,i=l(arguments,!0,!0,1),o=[];++t<r;){var a=e[t];0>n(i,a)&&o.push(a)}return o}function z(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=J(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:et;return Bt.call(e,0,Ft(Dt(0,r),i))}function W(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?Dt(0,i+r):r||0}else if(r)return r=X(t,n),t[r]===n?r:-1;return e(t,n,r)}function V(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=J(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:Dt(0,t);return Bt.call(e,r)}function X(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?J(n,r,1):Q,t=n(t);o>i;)r=i+o>>>1,n(e[r])<t?i=r+1:o=r;return i}function U(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(n=(r=n)&&r[t]===e?null:t,t=!1),null!=n&&(n=J(n,r,3)),u(e,t,n)}function G(e,t){return 2<arguments.length?d(e,17,Bt.call(arguments,2),null,t):d(e,1,null,null,t)}function J(e,t,n){var r=typeof e;if(null==e||"function"==r)return s(e,t,n);if("object"!=r)return function(t){return t[e]};var i=Ut(e);return function(t){for(var n=i.length,r=!1;n--&&(r=t[i[n]]===e[i[n]]););return r}}function Y(e,t,n){var r,i,o,a,s,l,c,u=0,f=!1,d=!0;if(!k(e))throw new TypeError;if(t=Dt(0,t)||0,!0===n)var p=!0,d=!1;else T(n)&&(p=n.leading,f="maxWait"in n&&(Dt(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var h=function(){var n=t-(_t()-a);n>0?l=setTimeout(h,n):(i&&clearTimeout(i),n=c,i=l=c=et,n&&(u=_t(),o=e.apply(s,r)))},m=function(){l&&clearTimeout(l),i=l=c=et,(d||f!==t)&&(u=_t(),o=e.apply(s,r))};return function(){if(r=arguments,a=_t(),s=this,c=d&&(l||!p),!1===f)var n=p&&!l;else{i||p||(u=a);var g=f-(a-u);g>0?i||(i=setTimeout(m,g)):(i&&(i=clearTimeout(i)),u=a,o=e.apply(s,r))}return l||t===f||(l=setTimeout(h,t)),n&&(o=e.apply(s,r)),o}}function Q(e){return e}function Z(e){A(x(e),function(t){var n=o[t]=e[t];o.prototype[t]=function(){var e=[this.__wrapped__];return Nt.apply(e,arguments),e=n.apply(o,e),this.__chain__?new a(e,!0):e}})}function K(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0,e+St(Rt()*(t-e+1))}var et,tt=0,nt={},rt=+new Date+"",it=/($^)/,ot=/['\n\r\t\u2028\u2029\\]/g,at="[object Arguments]",st="[object Array]",lt="[object Boolean]",ct="[object Date]",ut="[object Number]",ft="[object Object]",dt="[object RegExp]",pt="[object String]",ht={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},mt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},gt=ht[typeof window]&&window||this,vt=ht[typeof exports]&&exports&&!exports.nodeType&&exports,yt=ht[typeof module]&&module&&!module.nodeType&&module,bt=yt&&yt.exports===vt&&vt,xt=ht[typeof global]&&global;!xt||xt.global!==xt&&xt.window!==xt||(gt=xt);var wt=[],Ct=Object.prototype,kt=gt._,Tt=RegExp("^"+(Ct.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Et=Math.ceil,St=Math.floor,jt=Ct.hasOwnProperty,_t=Tt.test(_t=Date.now)&&_t||function(){return+new Date},Nt=wt.push,It=Ct.toString,Ot=wt.unshift,At=Tt.test(At=It.bind)&&At,Mt=Tt.test(Mt=Object.create)&&Mt,qt=Tt.test(qt=Array.isArray)&&qt,Pt=gt.isFinite,Lt=gt.isNaN,Ht=Tt.test(Ht=Object.keys)&&Ht,Dt=Math.max,Ft=Math.min,Rt=Math.random,Bt=wt.slice,$t=Tt.test(gt.attachEvent),zt=At&&!/\n|true/.test(At+$t);a.prototype=o.prototype;var Wt={};!function(){var e={0:1,length:1};Wt.fastBind=At&&!zt,Wt.spliceObjects=(wt.splice.call(e,0,1),!e[0])}(1),o.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""},Mt||(p=function(e){if(T(e)){i.prototype=e;var t=new i;i.prototype=null}return t||{}}),v(arguments)||(v=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&jt.call(e,"callee")||!1});var Vt=qt||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&It.call(e)==st||!1},Xt=function(e){var t,n=[];if(!e||!ht[typeof e])return n;for(t in e)jt.call(e,t)&&n.push(t);return n},Ut=Ht?function(e){return T(e)?Ht(e):[]}:Xt,Gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Jt=w(Gt),Yt=RegExp("("+Ut(Jt).join("|")+")","g"),Qt=RegExp("["+Ut(Gt).join("")+"]","g"),Zt=function(e,t){var n;if(!e||!ht[typeof e])return e;for(n in e)if(t(e[n],n,e)===nt)break;return e},Kt=function(e,t){var n;if(!e||!ht[typeof e])return e;for(n in e)if(jt.call(e,n)&&t(e[n],n,e)===nt)break;return e};k(/x/)&&(k=function(e){return"function"==typeof e&&"[object Function]"==It.call(e)});var en=f(function(e,t,n){jt.call(e,n)?e[n]++:e[n]=1}),tn=f(function(e,t,n){(jt.call(e,n)?e[n]:e[n]=[]).push(t)}),nn=f(function(e,t,n){e[n]=t});o.after=function(e,t){if(!k(t))throw new TypeError;return function(){return 1>--e?t.apply(this,arguments):void 0}},o.bind=G,o.bindAll=function(e){for(var t=1<arguments.length?l(arguments,!0,!1,1):x(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=d(e[i],1,null,null,e)}return e},o.chain=function(e){return e=new a(e),e.__chain__=!0,e},o.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},o.compose=function(){for(var e=arguments,t=e.length;t--;)if(!k(e[t]))throw new TypeError;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},o.countBy=en,o.debounce=Y,o.defaults=b,o.defer=function(e){if(!k(e))throw new TypeError;var t=Bt.call(arguments,1);return setTimeout(function(){e.apply(et,t)},1)},o.delay=function(e,t){if(!k(e))throw new TypeError;var n=Bt.call(arguments,2);return setTimeout(function(){e.apply(et,n)},t)},o.difference=$,o.filter=I,o.flatten=function(e,t){return l(e,t)},o.forEach=A,o.functions=x,o.groupBy=tn,o.indexBy=nn,o.initial=function(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=J(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return Bt.call(e,0,Ft(Dt(0,i-r),i))},o.intersection=function(e){var t=arguments,n=t.length,r=-1,i=m(),o=e?e.length:0,a=[];e:for(;++r<o;){var s=e[r];if(0>i(a,s)){for(var l=n;--l;)if(0>i(t[l],s))continue e;a.push(s)}}return a},o.invert=w,o.invoke=function(e,t){var n=Bt.call(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=Array("number"==typeof o?o:0);return A(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a},o.keys=Ut,o.map=q,o.max=P,o.memoize=function(e,t){var n={};return function(){var r=t?t.apply(this,arguments):rt+arguments[0];return jt.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},o.min=function(e,t,n){var r=1/0,i=r,o=-1,a=e?e.length:0;if(t||"number"!=typeof a)t=J(t,n,3),A(e,function(e,n,o){n=t(e,n,o),r>n&&(r=n,i=e)});else for(;++o<a;)n=e[o],i>n&&(i=n);return i},o.omit=function(e){var t=m(),n=l(arguments,!0,!1,1),r={};return Zt(e,function(e,i){0>t(n,i)&&(r[i]=e)}),r},o.once=function(e){var t,n;if(!k(e))throw new TypeError;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},o.pairs=function(e){for(var t=-1,n=Ut(e),r=n.length,i=Array(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i},o.partial=function(e){return d(e,16,Bt.call(arguments,1))},o.pick=function(e){for(var t=-1,n=l(arguments,!0,!1,1),r=n.length,i={};++t<r;){var o=n[t];o in e&&(i[o]=e[o])}return i},o.pluck=L,o.range=function(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);var r=-1;t=Dt(0,Et((t-e)/n));for(var i=Array(t);++r<t;)i[r]=e,e+=n;return i},o.reject=function(e,t,n){return t=J(t,n,3),I(e,function(e,n,r){return!t(e,n,r)})},o.rest=V,o.shuffle=F,o.sortBy=function(e,n,r){var i=-1,o=e?e.length:0,a=Array("number"==typeof o?o:0);for(n=J(n,r,3),A(e,function(e,t,r){a[++i]={m:n(e,t,r),n:i,o:e}}),o=a.length,a.sort(t);o--;)a[o]=a[o].o;return a},o.tap=function(e,t){return t(e),e},o.throttle=function(e,t,n){var r=!0,i=!0;if(!k(e))throw new TypeError;return!1===n?r=!1:T(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),n={},n.leading=r,n.maxWait=t,n.trailing=i,Y(e,t,n)},o.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,i=Array(e);for(t=s(t,n,1);++r<e;)i[r]=t(r);return i},o.toArray=function(e){return Vt(e)?Bt.call(e):e&&"number"==typeof e.length?q(e):j(e)},o.union=function(){return u(l(arguments,!0,!0))},o.uniq=U,o.values=j,o.where=B,o.without=function(e){return $(e,Bt.call(arguments,1))},o.wrap=function(e,t){if(!k(t))throw new TypeError;return function(){var n=[e];return Nt.apply(n,arguments),t.apply(this,n)}},o.zip=function(){for(var e=-1,t=P(L(arguments,"length")),n=Array(0>t?0:t);++e<t;)n[e]=L(arguments,e);return n},o.collect=q,o.drop=V,o.each=A,o.extend=y,o.methods=x,o.object=function(e,t){for(var n=-1,r=e?e.length:0,i={};++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i},o.select=I,o.tail=V,o.unique=U,o.clone=function(e){return T(e)?Vt(e)?Bt.call(e):y({},e):e},o.contains=_,o.escape=function(e){return null==e?"":(e+"").replace(Qt,h)},o.every=N,o.find=O,o.has=function(e,t){return e?jt.call(e,t):!1},o.identity=Q,o.indexOf=W,o.isArguments=v,o.isArray=Vt,o.isBoolean=function(e){return!0===e||!1===e||It.call(e)==lt},o.isDate=function(e){return e?"object"==typeof e&&It.call(e)==ct:!1},o.isElement=function(e){return e?1===e.nodeType:!1},o.isEmpty=C,o.isEqual=function(e,t){return c(e,t)},o.isFinite=function(e){return Pt(e)&&!Lt(parseFloat(e))},o.isFunction=k,o.isNaN=function(e){return E(e)&&e!=+e},o.isNull=function(e){return null===e},o.isNumber=E,o.isObject=T,o.isRegExp=function(e){return e&&ht[typeof e]?It.call(e)==dt:!1},o.isString=S,o.isUndefined=function(e){return"undefined"==typeof e},o.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Dt(0,r+n):Ft(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},o.mixin=Z,o.noConflict=function(){return gt._=kt,this},o.random=K,o.reduce=H,o.reduceRight=D,o.result=function(e,t){if(e){var n=e[t];return k(n)?e[t]():n}},o.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Ut(e).length},o.some=R,o.sortedIndex=X,o.template=function(e,t,n){var i=o,a=i.templateSettings;e||(e=""),n=b({},n,a);var s=0,l="__p+='",a=n.variable;e.replace(RegExp((n.escape||it).source+"|"+(n.interpolate||it).source+"|"+(n.evaluate||it).source+"|$","g"),function(t,n,i,o,a){return l+=e.slice(s,a).replace(ot,r),n&&(l+="'+_.escape("+n+")+'"),o&&(l+="';"+o+";__p+='"),i&&(l+="'+((__t=("+i+"))==null?'':__t)+'"),s=a+t.length,t}),l+="';\n",a||(a="obj",l="with("+a+"||{}){"+l+"}"),l="function("+a+"){var __t,__p='',__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}"+l+"return __p}";try{var c=Function("_","return "+l)(i)}catch(u){throw u.source=l,u}return t?c(t):(c.source=l,c)},o.unescape=function(e){return null==e?"":(e+"").replace(Yt,g)},o.uniqueId=function(e){var t=++tt+"";return e?e+t:t},o.all=N,o.any=R,o.detect=O,o.findWhere=function(e,t){return B(e,t,!0)},o.foldl=H,o.foldr=D,o.include=_,o.inject=H,o.first=z,o.last=function(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=J(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:et;return Bt.call(e,Dt(0,i-r))},o.sample=function(e,t,n){var r=e?e.length:0;return"number"!=typeof r&&(e=j(e)),null==t||n?e?e[K(r-1)]:et:(e=F(e),e.length=Ft(Dt(0,t),e.length),e)},o.take=z,o.head=z,Z(o),o.VERSION="2.2.1",o.prototype.chain=function(){return this.__chain__=!0,this},o.prototype.value=function(){return this.__wrapped__},A("pop push reverse shift sort splice unshift".split(" "),function(e){var t=wt[e];o.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),Wt.spliceObjects||0!==e.length||delete e[0],this}}),A(["concat","join","slice"],function(e){var t=wt[e];o.prototype[e]=function(){var e=t.apply(this.__wrapped__,arguments);return this.__chain__&&(e=new a(e),e.__chain__=!0),e}}),"function"==typeof n&&"object"==typeof n.amd&&n.amd?(gt._=o,n("underscore",[],function(){return o})):vt&&yt?bt?(yt.exports=o)._=o:vt._=o:gt._=o}.call(this),function(e,t){function r(e){var t=e.length,n=at.type(e);return at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=mt[e]={};return at.each(e.match(lt)||[],function(e,n){t[n]=!0}),t}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=at.expando+Math.random()}function a(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(bt,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:yt.test(r)?JSON.parse(r):r}catch(o){}gt.set(e,n,r)}else r=t;return r}function s(){return!0}function l(){return!1}function c(){try{return X.activeElement}catch(e){}}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function f(e,t,n){if(at.isFunction(t))return at.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return at.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Nt.test(t))return at.filter(t,e,n);t=at.filter(t,e)}return at.grep(e,function(e){return nt.call(t,e)>=0!==n})}function d(e,t){return at.nodeName(e,"table")&&at.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=e.length,r=0;n>r;r++)vt.set(e[r],"globalEval",!t||vt.get(t[r],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,c;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),a=vt.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)at.event.add(t,i,c[i][n])}gt.hasData(e)&&(s=gt.access(e),l=at.extend({},s),gt.set(t,l))}}function v(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&at.nodeName(e,n)?at.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ht.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;i--;)if(t=en[i]+n,t in e)return t;return r}function x(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)}function w(t){return e.getComputedStyle(t,null)}function C(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&x(r)&&(o[a]=vt.access(r,"olddisplay",S(r.nodeName)))):o[a]||(i=x(r),(n&&"none"!==n||!i)&&vt.set(r,"olddisplay",i?n:at.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var r=Ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function T(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=at.css(e,n+Kt[o],!0,i)),r?("content"===n&&(a-=at.css(e,"padding"+Kt[o],!0,i)),"margin"!==n&&(a-=at.css(e,"border"+Kt[o]+"Width",!0,i))):(a+=at.css(e,"padding"+Kt[o],!0,i),"padding"!==n&&(a+=at.css(e,"border"+Kt[o]+"Width",!0,i)));return a}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=w(e),a=at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=zt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Gt.test(i))return i;r=a&&(at.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(a?"border":"content"),r,o)+"px"}function S(e){var t=X,n=Yt[e];return n||(n=j(e,t),"none"!==n&&n||(Wt=(Wt||at("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Wt[0].contentWindow||Wt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=j(e,t),Wt.detach()),Yt[e]=n),n}function j(e,t){var n=at(t.createElement(e)).appendTo(t.body),r=at.css(n[0],"display");return n.remove(),r}function _(e,t,n,r){var i;if(at.isArray(t))at.each(t,function(t,i){n||nn.test(e)?r(e,i):_(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==at.type(t))r(e,t);else for(i in t)_(e+"["+i+"]",t[i],n,r)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(lt)||[];if(at.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,n,r,i){function o(l){var c;return a[l]=!0,at.each(e[l]||[],function(e,l){var u=l(n,r,i);return"string"!=typeof u||s||a[u]?s?!(c=u):t:(n.dataTypes.unshift(u),o(u),!1)}),c}var a={},s=e===xn;return o(n.dataTypes[0])||!a["*"]&&o("*")}function O(e,n){var r,i,o=at.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&at.extend(!0,e,i),e}function A(e,n,r){for(var i,o,a,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){c.unshift(o);break}if(c[0]in r)a=c[0];else{for(o in r){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),r[a]):t}function M(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(){return setTimeout(function(){Nn=t}),Nn=at.now()}function P(e,t,n){for(var r,i=(Pn[t]||[]).concat(Pn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o=0,a=qn.length,s=at.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Nn||q(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Nn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=at.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(H(u,c.opts.specialEasing);a>o;o++)if(r=qn[o].call(c,e,u,c.opts))return r;return at.map(u,P,c),at.isFunction(c.opts.start)&&c.opts.start.call(e,c),at.fx.timer(at.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e,t){var n,r,i,o,a;for(n in e)if(r=at.camelCase(n),i=t[r],o=e[n],at.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=at.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function D(e,n,r){var i,o,a,s,l,c,u=this,f={},d=e.style,p=e.nodeType&&x(e),h=vt.get(e,"fxshow");r.queue||(l=at._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,at.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===at.css(e,"display")&&"none"===at.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],On.exec(o)){if(delete n[i],a=a||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||h[i]===t)continue;p=!0}f[i]=h&&h[i]||at.style(e,i)}if(!at.isEmptyObject(f)){h?"hidden"in h&&(p=h.hidden):h=vt.access(e,"fxshow",{}),a&&(h.hidden=!p),p?at(e).show():u.done(function(){at(e).hide()}),u.done(function(){var t;vt.remove(e,"fxshow");for(t in f)at.style(e,t,f[t])});for(i in f)s=P(p?h[i]:0,i,u),i in h||(h[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function R(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Kt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return at.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $,z,W=typeof t,V=e.location,X=e.document,U=X.documentElement,G=e.jQuery,J=e.$,Y={},Q=[],Z="2.0.3",K=Q.concat,et=Q.push,tt=Q.slice,nt=Q.indexOf,rt=Y.toString,it=Y.hasOwnProperty,ot=Z.trim,at=function(e,t){return new at.fn.init(e,t,$)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,lt=/\S+/g,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^-ms-/,dt=/-([\da-z])/gi,pt=function(e,t){return t.toUpperCase()},ht=function(){X.removeEventListener("DOMContentLoaded",ht,!1),e.removeEventListener("load",ht,!1),at.ready()};at.fn=at.prototype={jquery:Z,constructor:at,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ct.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof at?n[0]:n,at.merge(this,at.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),ut.test(i[1])&&at.isPlainObject(n))for(i in n)at.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return o=X.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))},selector:"",length:0,toArray:function(){return tt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},ready:function(e){return at.ready.promise().done(e),this},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:et,sort:[].sort,splice:[].splice},at.fn.init.prototype=at.fn,at.extend=at.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||at.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(u&&i&&(at.isPlainObject(i)||(o=at.isArray(i)))?(o?(o=!1,a=r&&at.isArray(r)?r:[]):a=r&&at.isPlainObject(r)?r:{},s[n]=at.extend(u,a,i)):i!==t&&(s[n]=i));
return s},at.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===at&&(e.$=J),t&&e.jQuery===at&&(e.jQuery=G),at},isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){(e===!0?--at.readyWait:at.isReady)||(at.isReady=!0,e!==!0&&--at.readyWait>0||(z.resolveWith(X,[at]),at.fn.trigger&&at(X).trigger("ready").off("ready")))},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!it.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ut.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=at.buildFragment([e],t,i),i&&at(i).remove(),at.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(i){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&at.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;e=at.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ft,"ms-").replace(dt,pt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,a=e.length,s=r(e);if(n){if(s)for(;a>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":ot.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?at.merge(n,"string"==typeof e?[e]:e):et.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:nt.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,s=r(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,n),null!=i&&(l[l.length]=i);else for(o in e)i=t(e[o],o,n),null!=i&&(l[l.length]=i);return K.apply([],l)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),at.isFunction(e)?(i=tt.call(arguments,2),o=function(){return e.apply(n||this,i.concat(tt.call(arguments)))},o.guid=e.guid=e.guid||at.guid++,o):t},access:function(e,n,r,i,o,a,s){var l=0,c=e.length,u=null==r;if("object"===at.type(r)){o=!0;for(l in r)at.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,at.isFunction(i)||(s=!0),u&&(s?(n.call(e,i),n=null):(u=n,n=function(e,t,n){return u.call(at(e),n)})),n))for(;c>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:u?n.call(e):c?n(e[0],r):a},now:Date.now,swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),at.ready.promise=function(t){return z||(z=at.Deferred(),"complete"===X.readyState?setTimeout(at.ready):(X.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",ht,!1))),z.promise(t)},at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),$=at(X),function(e,t){function n(e,t,n,r){var i,o,a,s,l,c,u,f,h,m;if((t?t.ownerDocument||t:R)!==A&&O(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(q&&!r){if(i=bt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&D(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&k.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!P||!P.test(e))){if(f=u=F,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?f=u.replace(Ct,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);h=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return w(e.replace(ut,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>E.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[F]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)E.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(){}function d(e,t){var r,i,o,a,s,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=E.preFilter;s;){(!r||(i=ft.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=dt.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(a in E.filter)!(i=vt[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):W(e,l).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c,u=B+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(c=t[F]||(t[F]={}),(l=c[r])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[r]=[u],l[1]=e(t,n,a)||T,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,f,d=[],p=[],h=a.length,m=i||x(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:g(m,d,e,s,l),y=n?o||(i?e:h||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(c=g(y,p),r(c,[],s,l),u=c.length;u--;)(f=c[u])&&(y[p[u]]=!(v[p[u]]=f));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(f=y[u])&&c.push(v[u]=f);o(null,y=[],c,l)}for(u=y.length;u--;)(f=y[u])&&(c=o?nt.call(i,f):d[u])>-1&&(i[c]=!(a[c]=f))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):et.apply(a,y)})}function y(e){for(var t,n,r,i=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return nt.call(t,e)>-1},a,!0),u=[function(e,n,r){return!o&&(r||n!==N)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];i>s;s++)if(n=E.relative[e[s].type])u=[h(m(u),n)];else{if(n=E.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;i>r&&!E.relative[e[r].type];r++);return v(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}u.push(n)}return m(u)}function b(e,t){var r=0,o=t.length>0,a=e.length>0,s=function(i,s,l,c,u){var f,d,p,h=[],m=0,v="0",y=i&&[],b=null!=u,x=N,w=i||a&&E.find.TAG("*",u&&s.parentNode||s),C=B+=null==x?1:Math.random()||.1;for(b&&(N=s!==A&&s,T=r);null!=(f=w[v]);v++){if(a&&f){for(d=0;p=e[d++];)if(p(f,s,l)){c.push(f);break}b&&(B=C,T=++r)}o&&((f=!p&&f)&&m--,i&&y.push(f))}if(m+=v,o&&v!==m){for(d=0;p=t[d++];)p(y,h,s,l);if(i){if(m>0)for(;v--;)y[v]||h[v]||(h[v]=Z.call(c));h=g(h)}et.apply(c,h),b&&!i&&h.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&(B=C,N=x),y};return o?i(s):s}function x(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,o,a,s,l,c=d(e);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===t.nodeType&&q&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(kt,Tt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=vt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((l=E.find[s])&&(r=l(a.matches[0].replace(kt,Tt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return et.apply(n,r),n;break}}return _(e,c)(r,t,!q,n,pt.test(e)),n}var C,k,T,E,S,j,_,N,I,O,A,M,q,P,L,H,D,F="sizzle"+-new Date,R=e.document,B=0,$=0,z=r(),W=r(),V=r(),X=!1,U=function(e,t){return e===t?(X=!0,0):0},G=typeof t,J=1<<31,Y={}.hasOwnProperty,Q=[],Z=Q.pop,K=Q.push,et=Q.push,tt=Q.slice,nt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=ot.replace("w","w#"),lt="\\["+it+"*("+ot+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+it+"*\\]",ct=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+lt.replace(3,8)+")*)|.*)\\)|)",ut=RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ft=RegExp("^"+it+"*,"+it+"*"),dt=RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),pt=RegExp(it+"*[+~]"),ht=RegExp("="+it+"*([^\\]'\"]*)"+it+"*\\]","g"),mt=RegExp(ct),gt=RegExp("^"+st+"$"),vt={ID:RegExp("^#("+ot+")"),CLASS:RegExp("^\\.("+ot+")"),TAG:RegExp("^("+ot.replace("w","w*")+")"),ATTR:RegExp("^"+lt),PSEUDO:RegExp("^"+ct),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:RegExp("^(?:"+rt+")$","i"),needsContext:RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,Ct=/'|\\/g,kt=RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{et.apply(Q=tt.call(R.childNodes),R.childNodes),Q[R.childNodes.length].nodeType}catch(Et){et={apply:Q.length?function(e,t){K.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}j=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=n.support={},O=n.setDocument=function(e){var n=e?e.ownerDocument||e:R,r=n.defaultView;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,M=n.documentElement,q=!j(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){O()}),k.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=o(function(e){return M.appendChild(e).id=F,!n.getElementsByName||!n.getElementsByName(F).length}),k.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==G&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(e){var t=e.replace(kt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(kt,Tt);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=k.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=k.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==G&&q?n.getElementsByClassName(e):t},L=[],P=[],(k.qsa=yt.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+it+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&P.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(k.matchesSelector=yt.test(H=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){k.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),L.push("!=",ct)}),P=P.length&&RegExp(P.join("|")),L=L.length&&RegExp(L.join("|")),D=yt.test(M.contains)||M.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=M.compareDocumentPosition?function(e,t){if(e===t)return X=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!k.sortDetached&&t.compareDocumentPosition(e)===r?e===n||D(R,e)?-1:t===n||D(R,t)?1:I?nt.call(I,e)-nt.call(I,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return X=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:I?nt.call(I,e)-nt.call(I,t):0;if(o===a)return s(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===R?-1:c[i]===R?1:0},n):A},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&O(e),t=t.replace(ht,"='$1']"),!(!k.matchesSelector||!q||L&&L.test(t)||P&&P.test(t)))try{var r=H.call(e,t);if(r||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,A,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==A&&O(e),D(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==A&&O(e);var r=E.attrHandle[n.toLowerCase()],i=r&&Y.call(E.attrHandle,n.toLowerCase())?r(e,n,!q):t;return i===t?k.attributes||!q?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(X=!k.detectDuplicates,I=!k.sortStable&&e.slice(0),e.sort(U),X){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},S=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=S(t);return n},E=n.selectors={cacheLength:50,createPseudo:i,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(kt,Tt),e[3]=(e[4]||e[5]||"").replace(kt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&mt.test(r)&&(n=d(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(kt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(u=g[F]||(g[F]={}),c=u[e]||[],p=c[0]===B&&c[1],d=c[0]===B&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){u[e]=[B,p,d];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===B)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[F]||(f[F]={}))[e]=[B,d]),f!==t)););return d-=i,d===r||0===d%r&&d/r>=0}}},PSEUDO:function(e,t){var r,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[F]?o(t):o.length>1?(r=[e,e,"",t],E.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=nt.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=_(e.replace(ut,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(kt,Tt).toLowerCase(),function(t){var n;do if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},E.pseudos.nth=E.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})E.pseudos[C]=c(C);f.prototype=E.filters=E.pseudos,E.setFilters=new f,_=n.compile=function(e,t){var n,r=[],i=[],o=V[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=V(e,b(i,r))}return o},k.sortStable=F.split("").sort(U).join("")===F,k.detectDuplicates=X,O(),k.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),k.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(rt,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),at.find=n,at.expr=n.selectors,at.expr[":"]=at.expr.pseudos,at.unique=n.uniqueSort,at.text=n.getText,at.isXMLDoc=n.isXML,at.contains=n.contains}(e);var mt={};at.Callbacks=function(e){e="string"==typeof e?mt[e]||i(e):at.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],f=function(t){for(n=e.memory&&t,r=!0,l=a||0,a=0,s=c.length,o=!0;c&&s>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&f(u.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function r(t){at.each(t,function(t,n){var i=at.type(n);"function"===i?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),o?s=c.length:n&&(a=t,f(n))}return this},remove:function(){return c&&at.each(arguments,function(e,t){for(var n;(n=at.inArray(t,c,n))>-1;)c.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return e?at.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],o?u.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,o){var a=o[0],s=at.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,r):r}},i={};return r.pipe=r.then,at.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=tt.call(arguments),a=o.length,s=1!==a||e&&at.isFunction(e.promise)?a:0,l=1===s?e:at.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?tt.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=Array(a),n=Array(a),r=Array(a);a>i;i++)o[i]&&at.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}}),at.support=function(t){var n=X.createElement("input"),r=X.createDocumentFragment(),i=X.createElement("div"),o=X.createElement("select"),a=o.appendChild(X.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled,n=X.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,at(function(){var n,r,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=X.getElementsByTagName("body")[0];a&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",at.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(X.createElement("div")),r.style.cssText=i.style.cssText=o,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var gt,vt,yt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,bt=/([A-Z])/g;o.uid=1,o.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,at.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(at.isEmptyObject(o))at.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){var i;return n===t||n&&"string"==typeof n&&r===t?(i=this.get(e,n),i!==t?i:this.get(e,at.camelCase(n))):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,o,a=this.key(e),s=this.cache[a];if(n===t)this.cache[a]={};else{at.isArray(n)?i=n.concat(n.map(at.camelCase)):(o=at.camelCase(n),n in s?i=[n,o]:(i=o,i=i in s?[i]:i.match(lt)||[])),r=i.length;for(;r--;)delete s[i[r]]}},hasData:function(e){return!at.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},gt=new o,vt=new o,at.extend({acceptData:o.accepts,hasData:function(e){return gt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return gt.access(e,t,n)},removeData:function(e,t){gt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),at.fn.extend({data:function(e,n){var r,i,o=this[0],s=0,l=null;if(e===t){if(this.length&&(l=gt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(r=o.attributes;r.length>s;s++)i=r[s].name,0===i.indexOf("data-")&&(i=at.camelCase(i.slice(5)),a(o,i,l[i]));vt.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){gt.set(this,e)}):at.access(this,function(n){var r,i=at.camelCase(e);if(o&&n===t){if(r=gt.get(o,e),r!==t)return r;if(r=gt.get(o,i),r!==t)return r;if(r=a(o,i,t),r!==t)return r}else this.each(function(){var r=gt.get(this,i);gt.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&gt.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){gt.remove(this,e)})}}),at.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=vt.get(e,n),r&&(!i||at.isArray(r)?i=vt.access(e,n,at.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),r=n.length,i=n.shift(),o=at._queueHooks(e,t),a=function(){at.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:at.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),at.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?at.queue(this[0],e):n===t?this:this.each(function(){var t=at.queue(this,e,n);at._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},delay:function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=at.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=vt.get(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var xt,wt,Ct=/[\t\r\n\f]/g,kt=/\r/g,Tt=/^(?:input|select|textarea|button)$/i;at.fn.extend({attr:function(e,t){return at.access(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})},prop:function(e,t){return at.access(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[at.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(lt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ct," "):" ")){for(o=0;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=at.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(lt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ct," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?at.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):at.isFunction(e)?this.each(function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=at(this),o=e.match(lt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===W||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ct," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=at.isFunction(e),this.each(function(r){var o;1===this.nodeType&&(o=i?e.call(this,r,at(this).val()):e,null==o?o="":"number"==typeof o?o+="":at.isArray(o)&&(o=at.map(o,function(e){return null==e?"":e+""})),n=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))
})):o?(n=at.valHooks[o.type]||at.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(kt,""):null==r?"":r)):void 0}}),at.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(at.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=at.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=at.inArray(at(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===W?at.prop(e,n,r):(1===a&&at.isXMLDoc(e)||(n=n.toLowerCase(),i=at.attrHooks[n]||(at.expr.match.bool.test(n)?wt:xt)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=at.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(at.removeAttr(e,n),t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(lt);if(o&&1===e.nodeType)for(;n=o[i++];)r=at.propFix[n]||n,at.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!at.support.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(a=1!==s||!at.isXMLDoc(e),a&&(n=at.propFix[n]||n,o=at.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Tt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),wt={set:function(e,t,n){return t===!1?at.removeAttr(e,n):e.setAttribute(n,n),n}},at.each(at.expr.match.bool.source.match(/\w+/g),function(e,n){var r=at.expr.attrHandle[n]||at.find.attr;at.expr.attrHandle[n]=function(e,n,i){var o=at.expr.attrHandle[n],a=i?t:(at.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return at.expr.attrHandle[n]=o,a}}),at.support.optSelected||(at.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),at.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){at.propFix[this.toLowerCase()]=this}),at.each(["radio","checkbox"],function(){at.valHooks[this]={set:function(e,n){return at.isArray(n)?e.checked=at.inArray(at(e).val(),n)>=0:t}},at.support.checkOn||(at.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=/^key/,St=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,_t=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,n,r,i,o){var a,s,l,c,u,f,d,p,h,m,g,v=vt.get(e);if(v){for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=at.guid++),(c=v.events)||(c=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof at===W||e&&at.event.triggered===e.type?t:at.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=(n||"").match(lt)||[""],u=n.length;u--;)l=_t.exec(n[u])||[],h=g=l[1],m=(l[2]||"").split(".").sort(),h&&(d=at.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=at.event.special[h]||{},f=at.extend({type:h,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&at.expr.match.needsContext.test(o),namespace:m.join(".")},a),(p=c[h])||(p=c[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,m,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),d.add&&(d.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),o?p.splice(p.delegateCount++,0,f):p.push(f),at.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,c,u,f,d,p,h,m,g=vt.hasData(e)&&vt.get(e);if(g&&(l=g.events)){for(t=(t||"").match(lt)||[""],c=t.length;c--;)if(s=_t.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=at.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=l[p]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,f.remove&&f.remove.call(e,u));a&&!d.length&&(f.teardown&&f.teardown.call(e,h,g.handle)!==!1||at.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)at.event.remove(e,p+t[c],n,r,!0);at.isEmptyObject(l)&&(delete g.handle,vt.remove(e,"events"))}},trigger:function(n,r,i,o){var a,s,l,c,u,f,d,p=[i||X],h=it.call(n,"type")?n.type:n,m=it.call(n,"namespace")?n.namespace.split("."):[];if(s=l=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!jt.test(h+at.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),u=0>h.indexOf(":")&&"on"+h,n=n[at.expando]?n:new at.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:at.makeArray(r,[n]),d=at.event.special[h]||{},o||!d.trigger||d.trigger.apply(i,r)!==!1)){if(!o&&!d.noBubble&&!at.isWindow(i)){for(c=d.delegateType||h,jt.test(c+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(i.ownerDocument||X)&&p.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=p[a++])&&!n.isPropagationStopped();)n.type=a>1?c:d.bindType||h,f=(vt.get(s,"events")||{})[n.type]&&vt.get(s,"handle"),f&&f.apply(s,r),f=u&&s[u],f&&at.acceptData(s)&&f.apply&&f.apply(s,r)===!1&&n.preventDefault();return n.type=h,o||n.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),r)!==!1||!at.acceptData(i)||u&&at.isFunction(i[h])&&!at.isWindow(i)&&(l=i[u],l&&(i[u]=null),at.event.triggered=h,i[h](),at.event.triggered=t,l&&(i[u]=l)),n.result}},dispatch:function(e){e=at.event.fix(e);var n,r,i,o,a,s=[],l=tt.call(arguments),c=(vt.get(this,"events")||{})[e.type]||[],u=at.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=at.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((at.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(i=[],r=0;l>r;r++)a=n[r],o=a.selector+" ",i[o]===t&&(i[o]=a.needsContext?at(o,this).index(c)>=0:at.find(o,this,null,[c]).length),i[o]&&i.push(a);i.length&&s.push({elem:c,handlers:i})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[at.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=St.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new at.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&at.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return at.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?at.event.trigger(i,null,t):at.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},at.Event=function(e,n){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?s:l):this.type=e,n&&at.extend(this,n),this.timeStamp=e&&e.timeStamp||at.now(),this[at.expando]=!0,t):new at.Event(e,n)},at.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!at.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),at.support.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,r,!0)},teardown:function(){0===--n&&X.removeEventListener(e,r,!0)}}}),at.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=l;else if(!i)return this;return 1===o&&(a=i,i=function(e){return at().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=at.guid++)),this.each(function(){at.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,at(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=l),this.each(function(){at.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?at.event.trigger(e,n,r,!0):t}});var Nt=/^.[^:#\[\.,]*$/,It=/^(?:parents|prev(?:Until|All))/,Ot=at.expr.match.needsContext,At={children:!0,contents:!0,next:!0,prev:!0};at.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(at(e).filter(function(){for(t=0;i>t;t++)if(at.contains(r[t],this))return!0}));for(t=0;i>t;t++)at.find(e,r[t],n);return n=this.pushStack(i>1?at.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=at(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(at.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(f(this,e||[],!0))},filter:function(e){return this.pushStack(f(this,e||[],!1))},is:function(e){return!!f(this,"string"==typeof e&&Ot.test(e)?at(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Ot.test(e)||"string"!=typeof e?at(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&at.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?at.unique(o):o)},index:function(e){return e?"string"==typeof e?nt.call(at(e),this[0]):nt.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?at(e,t):at.makeArray(e&&e.nodeType?[e]:e),r=at.merge(this.get(),n);return this.pushStack(at.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return e.contentDocument||at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,r){var i=at.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=at.filter(r,i)),this.length>1&&(At[e]||at.unique(i),It.test(e)&&i.reverse()),this.pushStack(i)}}),at.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?at.find.matchesSelector(r,e)?[r]:[]:at.find.matches(e,at.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&at(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Lt=/<(?:script|style|link)/i,Ht=/^(?:checkbox|radio)$/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Rt=/^true\/(.*)/,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,at.fn.extend({text:function(e){return at.access(this,function(e){return e===t?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?at.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||at.cleanData(v(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(at.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return at.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Lt.test(e)&&!$t[(qt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Mt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(at.cleanData(v(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=at.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),at(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=K.apply([],e);var r,i,o,a,s,l,c=0,u=this.length,f=this,d=u-1,m=e[0],g=at.isFunction(m);if(g||!(1>=u||"string"!=typeof m||at.support.checkClone)&&Dt.test(m))return this.each(function(r){var i=f.eq(r);g&&(e[0]=m.call(this,r,i.html())),i.domManip(e,t,n)});if(u&&(r=at.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=at.map(v(r,"script"),p),a=o.length;u>c;c++)s=r,c!==d&&(s=at.clone(s,!0,!0),a&&at.merge(o,v(s,"script"))),t.call(this[c],s,c);if(a)for(l=o[o.length-1].ownerDocument,at.map(o,h),c=0;a>c;c++)s=o[c],Ft.test(s.type||"")&&!vt.access(s,"globalEval")&&at.contains(l,s)&&(s.src?at._evalUrl(s.src):at.globalEval(s.textContent.replace(Bt,"")))}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,r=[],i=at(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),at(i[a])[t](n),et.apply(r,n.get());return this.pushStack(r)}}),at.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=at.contains(e.ownerDocument,e);if(!(at.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)g(o[r],a[r]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,c,u=0,f=e.length,d=t.createDocumentFragment(),p=[];f>u;u++)if(i=e[u],i||0===i)if("object"===at.type(i))at.merge(p,i.nodeType?[i]:i);else if(Pt.test(i)){for(o=o||d.appendChild(t.createElement("div")),a=(qt.exec(i)||["",""])[1].toLowerCase(),s=$t[a]||$t._default,o.innerHTML=s[1]+i.replace(Mt,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;at.merge(p,o.childNodes),o=d.firstChild,o.textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",u=0;i=p[u++];)if((!r||-1===at.inArray(i,r))&&(l=at.contains(i.ownerDocument,i),o=v(d.appendChild(i),"script"),l&&m(o),n))for(c=0;i=o[c++];)Ft.test(i.type||"")&&n.push(i);return d},cleanData:function(e){for(var n,r,i,a,s,l,c=at.event.special,u=0;(r=e[u])!==t;u++){if(o.accepts(r)&&(s=r[vt.expando],s&&(n=vt.cache[s]))){if(i=Object.keys(n.events||{}),i.length)for(l=0;(a=i[l])!==t;l++)c[a]?at.event.remove(r,a):at.removeEvent(r,a,n.handle);vt.cache[s]&&delete vt.cache[s]}delete gt.cache[r[gt.expando]]}},_evalUrl:function(e){return at.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),at.fn.extend({wrapAll:function(e){var t;return at.isFunction(e)?this.each(function(t){at(this).wrapAll(e.call(this,t))}):(this[0]&&(t=at(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return at.isFunction(e)?this.each(function(t){at(this).wrapInner(e.call(this,t))}):this.each(function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()}});var zt,Wt,Vt=/^(none|table(?!-c[ea]).+)/,Xt=/^margin/,Ut=RegExp("^("+st+")(.*)$","i"),Gt=RegExp("^("+st+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+st+")","i"),Yt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},Kt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];at.fn.extend({css:function(e,n){return at.access(this,function(e,n,r){var i,o,a={},s=0;if(at.isArray(n)){for(i=w(e),o=n.length;o>s;s++)a[n[s]]=at.css(e,n[s],!1,i);return a}return r!==t?at.style(e,n,r):at.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?at(this).show():at(this).hide()})}}),at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=zt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=at.camelCase(n),c=e.style;return n=at.cssProps[l]||(at.cssProps[l]=b(c,l)),s=at.cssHooks[n]||at.cssHooks[l],r===t?s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:c[n]:(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(at.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r)||("number"!==a||at.cssNumber[l]||(r+="px"),at.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t||(c[n]=r)),t)}},css:function(e,n,r,i){var o,a,s,l=at.camelCase(n);return n=at.cssProps[l]||(at.cssProps[l]=b(e.style,l)),s=at.cssHooks[n]||at.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=zt(e,n,i)),"normal"===o&&n in Zt&&(o=Zt[n]),""===r||r?(a=parseFloat(o),r===!0||at.isNumeric(a)?a||0:o):o}}),zt=function(e,n,r){var i,o,a,s=r||w(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||at.contains(e.ownerDocument,e)||(l=at.style(e,n)),Gt.test(l)&&Xt.test(n)&&(i=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=o,c.maxWidth=a)),l},at.each(["height","width"],function(e,n){at.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Vt.test(at.css(e,"display"))?at.swap(e,Qt,function(){return E(e,n,i)}):E(e,n,i):t},set:function(e,t,r){var i=r&&w(e);return k(e,t,r?T(e,n,r,at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,i),i):0)}}}),at(function(){at.support.reliableMarginRight||(at.cssHooks.marginRight={get:function(e,n){return n?at.swap(e,{display:"inline-block"},zt,[e,"marginRight"]):t}}),!at.support.pixelPosition&&at.fn.position&&at.each(["top","left"],function(e,n){at.cssHooks[n]={get:function(e,r){return r?(r=zt(e,n),Gt.test(r)?at(e).position()[n]+"px":r):t}}})}),at.expr&&at.expr.filters&&(at.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Kt[r]+t]=o[r]||o[r-2]||o[0];return i}},Xt.test(e)||(at.cssHooks[e+t].set=k)});var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&an.test(this.nodeName)&&!on.test(e)&&(this.checked||!Ht.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:n.replace(rn,"\r\n")}}).get()}}),at.param=function(e,n){var r,i=[],o=function(e,t){t=at.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){o(this.name,this.value)});else for(r in e)_(r,e[r],n,o);return i.join("&").replace(tn,"+")},at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),at.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var sn,ln,cn=at.now(),un=/\?/,fn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,gn=/^\/\//,vn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,yn=at.fn.load,bn={},xn={},wn="*/".concat("*");try{ln=V.href}catch(Cn){ln=X.createElement("a"),ln.href="",ln=ln.href}sn=vn.exec(ln.toLowerCase())||[],at.fn.load=function(e,n,r){if("string"!=typeof e&&yn)return yn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l),e=e.slice(0,l)),at.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&at.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?at("<div>").append(at.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:hn.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,at.ajaxSettings),t):O(at.ajaxSettings,e)},ajaxPrefilter:N(bn),ajaxTransport:N(xn),ajax:function(e,n){function r(e,n,r,s){var c,f,y,b,w,k=n;2!==x&&(x=2,l&&clearTimeout(l),i=t,a=s||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(b=A(d,C,r)),b=M(d,b,C,c),c?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(at.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(at.etag[o]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=b.state,f=b.data,y=b.error,c=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),C.status=e,C.statusText=(n||k)+"",c?m.resolveWith(p,[f,k,C]):m.rejectWith(p,[C,k,y]),C.statusCode(v),v=t,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?f:y]),g.fireWith(p,[C,k]),u&&(h.trigger("ajaxComplete",[C,d]),--at.active||at.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,c,u,f,d=at.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?at(p):at.event,m=at.Deferred(),g=at.Callbacks("once memory"),v=d.statusCode||{},y={},b={},x=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=pn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||ln)+"").replace(fn,"").replace(gn,sn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=at.trim(d.dataType||"*").toLowerCase().match(lt)||[""],null==d.crossDomain&&(c=vn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===sn[1]&&c[2]===sn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=at.param(d.data,d.traditional)),I(bn,d,n,C),2===x)return C;u=d.global,u&&0===at.active++&&at.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(un.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=dn.test(o)?o.replace(dn,"$1_="+cn++):o+(un.test(o)?"&":"?")+"_="+cn++)),d.ifModified&&(at.lastModified[o]&&C.setRequestHeader("If-Modified-Since",at.lastModified[o]),at.etag[o]&&C.setRequestHeader("If-None-Match",at.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wn+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(p,C,d)===!1||2===x))return C.abort();w="abort";for(f in{success:1,error:1,complete:1})C[f](d[f]);if(i=I(xn,d,n,C)){C.readyState=1,u&&h.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},d.timeout));try{x=1,i.send(y,r)}catch(k){if(!(2>x))throw k;r(-1,k)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return at.get(e,t,n,"json")},getScript:function(e,n){return at.get(e,t,n,"script")}}),at.each(["get","post"],function(e,n){at[n]=function(e,r,i,o){return at.isFunction(r)&&(o=o||i,i=r,r=t),at.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),at.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=at("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var kn=[],Tn=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=kn.pop()||at.expando+"_"+cn++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Tn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=at.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Tn,"$1"+o):n.jsonp!==!1&&(n.url+=(un.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||at.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,kn.push(o)),s&&at.isFunction(a)&&a(s[0]),s=a=t}),"script"):t}),at.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var En=at.ajaxSettings.xhr(),Sn={0:200,1223:204},jn=0,_n={};e.ActiveXObject&&at(e).on("unload",function(){for(var e in _n)_n[e]();_n=t}),at.support.cors=!!En&&"withCredentials"in En,at.support.ajax=En=!!En,at.ajaxTransport(function(e){var n;return at.support.cors||En&&!e.crossDomain?{send:function(r,i){var o,a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];
e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(delete _n[a],n=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?i(s.status||404,s.statusText):i(Sn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:t,s.getAllResponseHeaders()))}},s.onload=n(),s.onerror=n("error"),n=_n[a=jn++]=n("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var Nn,In,On=/^(?:toggle|show|hide)$/,An=RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Mn=/queueHooks$/,qn=[D],Pn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=An.exec(t),o=i&&i[3]||(at.cssNumber[e]?"":"px"),a=(at.cssNumber[e]||"px"!==o&&+r)&&An.exec(at.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,at.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};at.Animation=at.extend(L,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Pn[n]=Pn[n]||[],Pn[n].unshift(t)},prefilter:function(e,t){t?qn.unshift(e):qn.push(e)}}),at.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(at.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,r,i)}}),at.fn.extend({fadeTo:function(e,t,n,r){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=at.isEmptyObject(e),o=at.speed(t,n,r),a=function(){var t=L(this,at.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=at.timers,a=vt.get(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Mn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=at.timers,a=r?r.length:0;for(n.finish=!0,at.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),at.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),at.speed=function(e,t,n){var r=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return r.duration=at.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in at.fx.speeds?at.fx.speeds[r.duration]:at.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){at.isFunction(r.old)&&r.old.call(this),r.queue&&at.dequeue(this,r.queue)},r},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.timers=[],at.fx=F.prototype.init,at.fx.tick=function(){var e,n=at.timers,r=0;for(Nn=at.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||at.fx.stop(),Nn=t},at.fx.timer=function(e){e()&&at.timers.push(e)&&at.fx.start()},at.fx.interval=13,at.fx.start=function(){In||(In=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(In),In=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fx.step={},at.expr&&at.expr.filters&&(at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length}),at.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){at.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;return a?(n=a.documentElement,at.contains(n,i)?(typeof i.getBoundingClientRect!==W&&(o=i.getBoundingClientRect()),r=B(a),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o):void 0},at.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c,u=at.css(e,"position"),f=at(e),d={};"static"===u&&(e.style.position="relative"),s=f.offset(),o=at.css(e,"top"),l=at.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),at.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},at.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===at.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(r=e.offset()),r.top+=at.css(e[0],"borderTopWidth",!0),r.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-at.css(n,"marginTop",!0),left:t.left-r.left-at.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||U})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;at.fn[n]=function(o){return at.access(this,function(n,o,a){var s=B(n);return a===t?s?s[r]:n[o]:(s?s.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):n[o]=a,t)},n,o,arguments.length,null)}}),at.each({Height:"height",Width:"width"},function(e,n){at.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){at.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return at.access(this,function(n,r,i){var o;return at.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?at.css(n,r,s):at.style(n,r,i,s)},n,a?i:t,a,null)}})}),at.fn.size=function(){return this.length},at.fn.andSelf=at.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=at:"function"==typeof n&&n.amd&&n("jquery",[],function(){return at}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=at)}(window),function(){var e=this,n=e.Backbone,r=[];r.push;var i=r.slice;r.splice;var o;o="undefined"!=typeof exports?exports:e.Backbone={},o.VERSION="1.1.0";var a=e._;a||"undefined"==typeof t||(a=t("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$,o.noConflict=function(){return e.Backbone=n,this},o.emulateHTTP=!1,o.emulateJSON=!1;var s=o.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,i=a.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,s,l,u,f,d;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:a.keys(this._events),l=0,u=s.length;u>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=r=[],t||n)for(f=0,d=o.length;d>f;f++)i=o[f],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,n,this),(i||a.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){for(var o=n.split(l),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};a.each(f,function(e,t){s[t]=function(t,n,r){var i=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=a.uniqueId("l"));return i[o]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),s.bind=s.on,s.unbind=s.off,a.extend(o,s);var d=o.Model=function(e,t){var n=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=a.defaults({},n,a.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,o,s,l,c,u,f;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;o=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),f=this.attributes,u=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],a.isEqual(f[r],t)||s.push(r),a.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete f[r]:f[r]=t;if(!l){s.length&&(this._pending=!0);for(var d=0,p=s.length;p>d;d++)this.trigger("change:"+s[d],this,f[s[d]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)a.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){return t.set(t.parse(r,e),e)?(n&&n(t,r,e),t.trigger("sync",t,r,e),void 0):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,o,s=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=a.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},s,r)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=a.extend(r||{},t)),a.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},H(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;H(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||L();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t,{validationError:n})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];a.each(p,function(e){d.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var h=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};a.extend(h.prototype,s,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,g))},remove:function(e,t){var n=!a.isArray(e);e=n?[e]:a.clone(e),t||(t={});var r,i,o,s;for(r=0,i=e.length;i>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s));return n?e[0]:e},set:function(e,t){t=a.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!a.isArray(e);e=n?e?[e]:[]:a.clone(e);var r,i,o,s,l,c,u,f=t.at,p=this.model,h=this.comparator&&null==f&&t.sort!==!1,g=a.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},x=t.add,w=t.merge,C=t.remove,k=!h&&x&&C?[]:!1;for(r=0,i=e.length;i>r;r++){if(l=e[r],o=l instanceof d?s=l:l[p.prototype.idAttribute],c=this.get(o))C&&(b[c.cid]=!0),w&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),h&&!u&&c.hasChanged(g)&&(u=!0)),e[r]=c;else if(x){if(s=e[r]=this._prepareModel(l,t),!s)continue;v.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)}k&&k.push(c||s)}if(C){for(r=0,i=this.length;i>r;++r)b[(s=this.models[r]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||k&&k.length)if(h&&(u=!0),this.length+=v.length,null!=f)for(r=0,i=v.length;i>r;r++)this.models.splice(f+r,0,v[r]);else{k&&(this.models.length=0);var T=k||v;for(r=0,i=T.length;i>r;r++)this.models.push(T[r])}if(u&&this.sort({silent:!0}),!t.silent){for(r=0,i=v.length;i>r;r++)(s=v[r]).trigger("add",s,this,t);(u||k&&k.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return i.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?a.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?a.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(v,function(e){h.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var y=["groupBy","countBy","sortBy"];a.each(y,function(e){h.prototype[e]=function(t,n){var r=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,r,n)}});var b=o.View=function(e){this.cid=a.uniqueId("view"),e||(e={}),a.extend(this,a.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];a.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(a.isFunction(n)||(n=this[e[t]]),n){var r=t.match(x),i=r[1],o=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var t=o.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}}}),o.sync=function(e,t,n){var r=k[e];a.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};if(n.url||(i.url=a.result(t,"url")||L()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===i.type||n.emulateJSON||(i.processData=!1),"PATCH"===i.type&&C&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=o.ajax(a.extend(i,n));return t.trigger("request",t,l,n),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var T=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,j=/\*\w+/g,_=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(T.prototype,s,{initialize:function(){},route:function(e,t,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return o.history.route(e,function(i){var a=r._extractParameters(e,i);n&&n.apply(r,a),r.trigger.apply(r,["route:"+t].concat(a)),r.trigger("route",t,a),o.history.trigger("route",r,t,a)}),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(_,"\\$&").replace(E,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(j,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var N=o.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,A=/msie [\w.]+/,M=/\/$/,q=/[?#].*$/;N.started=!1,a.extend(N.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(M,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(I,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=A.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),N.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!N.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(q,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new N;var P=function(e,t){var n,r=this;n=e&&a.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},a.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&a.extend(n.prototype,e),n.__super__=r.prototype,n};d.extend=h.extend=T.extend=b.extend=N.extend=P;var L=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),n("backbone",["jquery","underscore"],function(e){return function(){var t;return t||e.Backbone}}(this)),!function(e){function t(){e(".dropdown-backdrop").remove(),e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,r=t.attr("data-target");return r||(r=t.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&e(r),n&&n.length||(n=t.parent()),n}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=e(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),t(),i||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),r.toggleClass("open")),o.focus(),!1},keydown:function(t){var i,o,a,s,l;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(a=n(i),s=a.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&a.find(r).focus(),i.click();o=e("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),n("bootstrap-dropdown",["jquery"],function(){}),n("app",["require","exports","module","underscore","jquery","backbone","bootstrap-dropdown"],function(e,t,n){e("underscore");var r=e("jquery");e("backbone"),e("bootstrap-dropdown");var i=io.connect("ws://www.newedenfaces.com:8000");i.on("userCount",function(e){r("#userCount").text(e.userCount)}),r(document).ajaxStart(function(){0===r("#progress").length&&(r("body").append(r("<div><dt/><dd/></div>").attr("id","progress")),r("#progress").width(50+30*Math.random()+"%"))}),r(document).ajaxComplete(function(){r(".spinner").css("z-index",-1),r("#progress").width("101%").delay(200).fadeOut(900,function(){r(this).remove()})});var o=n.exports;o.root="/"}),n("modules/CharacterModel",["require","exports","module","underscore","backbone"],function(e){e("underscore");var t=e("backbone"),n=t.Model.extend({urlRoot:"/api/characters",idAttribute:"characterId"});return n}),n("modules/CharacterCollection",["require","exports","module","underscore","jquery","backbone","modules/CharacterModel"],function(e){e("underscore"),e("jquery");var t=e("backbone"),n=e("modules/CharacterModel"),r=t.Collection.extend({model:n,url:"/api/characters"});return r}),n("text",["module"],function(e){var n,r,i,o,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,f=u&&location.protocol&&location.protocol.replace(/\:/,""),d=u&&location.hostname,p=u&&(location.port||void 0),h={},m=e.config&&e.config()||{};return n={version:"2.0.10",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,o=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1,e.length)):t=e,r=n||t,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,i){var o,a,s,l=n.xdRegExp.exec(e);return l?(o=l[2],a=l[3],a=a.split(":"),s=a[1],a=a[0],!(o&&o!==t||a&&a.toLowerCase()!==r.toLowerCase()||(s||a)&&s!==i)):!0},finishLoad:function(e,t,r,i){r=t?n.strip(r):r,m.isBuild&&(h[e]=r),i(r)},load:function(e,t,r,i){if(i.isBuild&&!i.inlineText)return r(),void 0;m.isBuild=i.isBuild;var o=n.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(a),l=m.useXhr||n.useXhr;return 0===s.indexOf("empty:")?(r(),void 0):(!u||l(s,f,d,p)?n.get(s,function(t){n.finishLoad(e,o.strip,t,r)},function(e){r.error&&r.error(e)}):t([a],function(e){n.finishLoad(o.moduleName+"."+o.ext,o.strip,e,r)}),void 0)},write:function(e,t,r){if(h.hasOwnProperty(t)){var i=n.jsEscape(h[t]);r.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,r,i,o){var a=n.parseName(t),s=a.ext?"."+a.ext:"",l=a.moduleName+s,c=r.toUrl(a.moduleName+s)+".js";n.load(l,r,function(){var t=function(e){return i(c,e)};t.asModule=function(e,t){return i.asModule(e,c,t)},n.write(e,l,t,o)},o)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(r=t.nodeRequire("fs"),n.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");
0===i.indexOf("")&&(i=i.substring(1)),t(i)}catch(o){n(o)}}):"xhr"===m.env||!m.env&&n.createXhr()?n.get=function(e,t,r,i){var o,a=n.createXhr();if(a.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),i[o]);m.onXhr&&m.onXhr(a,e),a.onreadystatechange=function(){var n,i;4===a.readyState&&(n=a.status,n>399&&600>n?(i=new Error(e+" HTTP status: "+n),i.xhr=a,r(i)):t(a.responseText),m.onXhrComplete&&m.onXhrComplete(a,e))},a.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(e,t){var n,r,i="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),l="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=s.readLine());)n.append(a),n.append(r);l=String(n.toString())}finally{s.close()}t(l)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,n.get=function(e,t){var n,r,s,l={};a&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),l),r.close(),n.close(),t(l.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),n}),n("text!templates/character.html",[],function(){return'<div class="media">\n  <span class="position pull-left"><%= position %></span>\n\n  <div class="pull-left thumb-large">\n    <a href="#characters/<%= model.characterId %>">\n      <img class="media-object" src="http://image.eveonline.com/Character/<%= model.characterId %>_128.jpg">\n    </a>\n  </div>\n  <div class="media-body">\n    <!--<button id="delete" class="btn btn-danger">delete</button>-->\n    <h5 class="media-heading"><a href="#characters/<%= model.characterId %>"><%= model.name %></a></h5>\n    <small>\n      Race: <strong><%= model.race %></strong>\n      <br>\n      Bloodline: <strong><%= model.bloodline %></strong>\n      <br>\n      Wins: <strong><%= model.wins %></strong> Losses: <strong><%= model.losses %></strong>\n    </small>\n  </div>\n</div>'}),n("modules/CharacterView",["require","exports","module","underscore","jquery","backbone","text!templates/character.html"],function(e){var t=e("underscore");e("jquery");var n=e("backbone"),r=e("text!templates/character.html"),i=n.View.extend({tagName:"li",className:"list-group-item",template:t.template(r),initialize:function(e){this.options=e||{}},events:{"click #male":"male","click #delete":"delete"},render:function(){return this.$el.html(this.template({model:this.model.toJSON(),position:this.options.position})),this}});return i}),n("text!templates/menu-leaderboard.html",[],function(){return""}),n("modules/CharacterCollectionView",["require","exports","module","underscore","jquery","backbone","modules/CharacterView","text!templates/menu-leaderboard.html"],function(e){var t=e("underscore"),n=e("jquery"),r=e("backbone"),i=e("modules/CharacterView"),o=e("text!templates/menu-leaderboard.html"),a=r.View.extend({tagName:"ul",className:"list-group list-group-flush m-t-n",template:t.template(o),selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")},addOne:function(e,t){var n=new i({model:e,position:t+1});this.$el.append(n.render().el)},render:function(){return this.collection.each(this.addOne,this),this}});return a}),function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return c({type:g.error,iconClass:f().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(e,t,n){return c({type:g.info,iconClass:f().iconClasses.info,message:e,optionsOverride:n,title:t})}function r(e){h=e}function i(e,t,n){return c({type:g.success,iconClass:f().iconClasses.success,message:e,optionsOverride:n,title:t})}function o(e,t,n){return c({type:g.warning,iconClass:f().iconClasses.warning,message:e,optionsOverride:n,title:t})}function a(t){var n=f();return p||u(n),t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){d(t)}}),void 0):(p.children().length&&p[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){p.remove()}}),void 0)}function s(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(e){h&&h(e)}function c(t){function n(t){return!e(":focus",c).length||t?c[o.hideMethod]({duration:o.hideDuration,easing:o.hideEasing,complete:function(){d(c),o.onHidden&&o.onHidden(),y.state="hidden",y.endTime=new Date,l(y)}}):void 0}function r(){(o.timeOut>0||o.extendedTimeOut>0)&&(s=setTimeout(n,o.extendedTimeOut))}function i(){clearTimeout(s),c.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}var o=f(),a=t.iconClass||o.iconClass;"undefined"!=typeof t.optionsOverride&&(o=e.extend(o,t.optionsOverride),a=t.optionsOverride.iconClass||a),m++,p=u(o);var s=null,c=e("<div/>"),h=e("<div/>"),g=e("<div/>"),v=e(o.closeHtml),y={toastId:m,state:"visible",startTime:new Date,options:o,map:t};return t.iconClass&&c.addClass(o.toastClass).addClass(a),t.title&&(h.append(t.title).addClass(o.titleClass),c.append(h)),t.message&&(g.append(t.message).addClass(o.messageClass),c.append(g)),o.closeButton&&(v.addClass("toast-close-button"),c.prepend(v)),c.hide(),o.newestOnTop?p.prepend(c):p.append(c),c[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(s=setTimeout(n,o.timeOut)),c.hover(i,r),!o.onclick&&o.tapToDismiss&&c.click(n),o.closeButton&&v&&v.click(function(e){e.stopPropagation(),n(!0)}),o.onclick&&c.click(function(){o.onclick(),n()}),l(y),o.debug&&console&&console.log(y),c}function u(t){return t||(t=f()),p=e("#"+t.containerId),p.length?p:(p=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),p.appendTo(e(t.target)),p)}function f(){return e.extend({},s(),v.options)}function d(e){p||(p=u()),e.is(":visible")||(e.remove(),e=null,0===p.children().length&&p.remove())}var p,h,m=0,g={error:"error",info:"info",success:"success",warning:"warning"},v={clear:a,error:t,getContainer:u,info:n,options:{},subscribe:r,success:i,version:"2.0.1",warning:o};return v}()})}("function"==typeof n&&n.amd?n:function(e,n){"undefined"!=typeof module&&module.exports?module.exports=n(t(e[0])):window.toastr=n(window.jQuery)}),n("toastr",["jquery"],function(){}),n("text!templates/character-summary.html",[],function(){return'<div class="row-fluid">\n  <div class="profile-img">\n    <a class="magnific-popup effect6" href="https://image.eveonline.com/Character/<%= model.characterId %>_1024.jpg">\n      <img src="http://image.eveonline.com/Character/<%= model.characterId %>_256.jpg">\n    </a>\n  </div>\n  <div class="profile-info">\n    <h2><%= model.name %></h2>\n    <h4 class="lead block m-t-mini">Race: <strong><%= model.race %></strong></h4>\n    <h4 class="lead block m-t-mini">Bloodline: <strong><%= model.bloodline %></strong></h4>\n    <h4 class="lead block m-t-mini">Gender: <strong>\n      <% if (model.gender) { %>\n      <%= model.gender.charAt(0).toUpperCase() + model.gender.slice(1) %>\n      <% } else { %>\n      Undetermined\n      <% } %>\n    </strong>\n    </h4>\n    <br/>\n    <button id="report" class="btn btn-clear">Request to Delete</button>\n    <button id="wrong-gender" class="btn btn-clear">Wrong Gender</button>\n  </div>\n</div>\n<div class="row-fluid">\n  <div class="profile-stats">\n    <ul>\n      <li><span><%= winLossRatio %></span> Winning Percentage</li>\n      <li><span><%= model.wins %></span> Wins</a></li>\n      <li><span><%= model.losses %></span> Losses</a></li>\n    </ul>\n    <div class="clear"></div>\n  </div>\n</div>'}),function(e){var t,n,r,i,o,a,s,l="Close",c="BeforeClose",u="AfterClose",f="BeforeAppend",d="MarkupParse",p="Open",h="Change",m="mfp",g="."+m,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",x=function(){},w=!!window.jQuery,C=e(window),k=function(e,n){t.ev.on(m+e+g,n)},T=function(t,n,r,i){var o=document.createElement("div");return o.className="mfp-"+t,r&&(o.innerHTML=r),i?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},E=function(n,r){t.ev.triggerHandler(m+n,r),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(r)?r:[r]))},S=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},j=function(){e.magnificPopup.instance||(t=new x,t.init(),e.magnificPopup.instance=t)},_=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};x.prototype={constructor:x,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=_(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document.body),i=e(document),t.popupsCache={}},open:function(n){var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var o,s=n.items;for(r=0;s.length>r;r++)if(o=s[r],o.parsed&&(o=o.el[0]),o===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=T("bg").on("click"+g,function(){t.close()}),t.wrap=T("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=T("container",t.wrap)),t.contentContainer=T("content"),t.st.preloader&&(t.preloader=T("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(r=0;l.length>r;r++){var c=l[r];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}E("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(d,function(e,t,n,r){n.close_replaceWith=S(r.type)}),a+=" mfp-close-btn-in"):t.wrap.append(S())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),C.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=C.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(u)){var h=t._getScrollbarSize();h&&(f.marginRight=h)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var m=t.st.mainClass;return t.isIE7&&(m+=" mfp-ie7"),m&&t._addClassToMFP(m),t.updateItemHTML(),E("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(document.body),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),i.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),E(p),n},close:function(){t.isOpen&&(E(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){E(l);var n=y+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var r={marginRight:""};t.isIE7?e("body, html").css("overflow",""):r.overflow="",e("html").css(r)}i.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,E(u)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;t.wrap.css("height",r),t.wH=r}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),E("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var r=n.type;if(E("BeforeChange",[t.currItem?t.currItem.type:"",r]),t.currItem=n,!t.currTemplate[r]){var i=t.st[r]?t.st[r].markup:!1;E("FirstMarkupParse",i),t.currTemplate[r]=i?e(i):!0}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var a=t["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,t.currTemplate[r]);t.appendContent(a,r),n.preloaded=!0,E(h,n),o=n.type,t.container.prepend(t.contentContainer),E("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(S()):t.content=e:t.content="",E(f),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var r=t.items[n],i=r.type;if(r=r.tagName?{el:e(r)}:{data:r,src:r.src},r.el){for(var o=t.types,a=0;o.length>a;a++)if(r.el.hasClass("mfp-"+o[a])){i=o[a];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=i||t.st.type||"inline",r.index=n,r.parsed=!0,t.items[n]=r,E("ElementParse",r),t.items[n]},addGroup:function(e,n){var r=function(r){r.mfpEl=this,t._openClick(r,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,r)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,r):(n.items=e,e.off(i).on(i,r)))},_openClick:function(n,r,i){var o=void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick;if(o||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>C.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),i.el=e(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),t.open(i)}},updateStatus:function(e,r){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),r||"loading"!==e||(r=t.st.tLoading);var i={status:e,text:r};E("UpdateStatus",i),e=i.status,r=i.text,t.preloader.html(r),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(b)){var r=t.st.closeOnContentClick,i=t.st.closeOnBgClick;if(r&&i)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(r)return!0}else if(i&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,r){var i;r.data&&(n=e.extend(r.data,n)),E(d,[t,n,r]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(i=e.split("_"),i.length>1){var r=t.find(g+"-"+i[0]);if(r.length>0){var o=i[1];"replaceWith"===o?r[0]!==n[0]&&r.replaceWith(n):"img"===o?r.is("img")?r.attr("src",n):r.replaceWith('<img src="'+n+'" class="'+r.attr("class")+'" />'):r.attr(i[1],n)}}else t.find(g+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:x.prototype,modules:[],open:function(t,n){return j(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){j();var r=e(this);if("string"==typeof n)if("open"===n){var i,o=w?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=r,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),t._openClick({mfpEl:i},r,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),w?r.data("magnificPopup",n):r[0].magnificPopup=n,t.addGroup(r,n);return r};var N,I,O,A="inline",M=function(){O&&(I.after(O.addClass(N)).detach(),O=null)};e.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(A),k(l+"."+A,function(){M()})},getInline:function(n,r){if(M(),n.src){var i=t.st.inline,o=e(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(I||(N=i.hiddenClass,I=T(N),N="mfp-"+N),O=o.after(I).detach().removeClass(N)),t.updateStatus("ready")}else t.updateStatus("error",i.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(r,{},n),r}}});var q,P="ajax",L=function(){q&&r.removeClass(q)},H=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(P,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(P),q=t.st.ajax.cursor,k(l+"."+P,H),k("BeforeChange."+P,H)},getAjax:function(n){q&&r.addClass(q),t.updateStatus("loading");var i=e.extend({url:n.src,success:function(r,i,o){var a={data:r,xhr:o};E("ParseAjax",a),t.appendContent(e(a.data),P),n.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),E("AjaxContentAdded")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(i),""}}});var D,F=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=t.st.image.titleSrc;if(r){if(e.isFunction(r))return r.call(t,n);if(n.el)return n.el.attr(r)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),k(p+n,function(){"image"===t.currItem.type&&e.cursor&&r.addClass(e.cursor)}),k(l+n,function(){e.cursor&&r.removeClass(e.cursor),C.off("resize"+g)}),k("Resize"+n,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,D&&clearInterval(D),e.isCheckingImgSize=!1,E("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,r=e.img[0],i=function(o){D&&clearInterval(D),D=setInterval(function(){return r.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(D),n++,3===n?i(10):40===n?i(50):100===n&&i(500),void 0)},o)};i(1)},getImage:function(n,r){var i=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,E("ImageLoadComplete")):(i++,200>i?setTimeout(o,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=r.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",o).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),n.img[0].naturalWidth>0&&(n.hasSize=!0)}return t._parseMarkup(r,{title:F(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(D&&clearInterval(D),n.loadError?(r.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),t.updateStatus("ready")),r):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),t.findImageSize(n)),r)}}});var R,B=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,r=".zoom";if(n.enabled&&t.supportsTransition){var i,o,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=r,t.css(i),t},u=function(){t.content.css("visibility","visible")};k("BuildControls"+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return u(),void 0;o=s(e),o.css(t._getOffset()),t.wrap.append(o),i=setTimeout(function(){o.css(t._getOffset(!0)),i=setTimeout(function(){u(),setTimeout(function(){o.remove(),e=o=null,E("ZoomAnimationEnded")},16)},a)},16)}}),k(c+r,function(){if(t._allowZoom()){if(clearTimeout(i),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;o=s(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),k(l+r,function(){t._allowZoom()&&(u(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var r;r=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var i=r.offset(),o=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);i.top-=e(window).scrollTop()-o;var s={width:r.width(),height:(w?r.innerHeight():r[0].offsetHeight)-a-o};return B()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var $="iframe",z="//about:blank",W=function(e){if(t.currTemplate[$]){var n=t.currTemplate[$].find("iframe");n.length&&(e||(n[0].src=z),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule($,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push($),k("BeforeChange",function(e,t,n){t!==n&&(t===$?W():n===$&&W(!0))}),k(l+"."+$,function(){W()})},getIframe:function(n,r){var i=n.src,o=t.st.iframe;e.each(o.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var a={};return o.srcAction&&(a[o.srcAction]=i),t._parseMarkup(r,a,n),t.updateStatus("ready"),r}}});var V=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},X=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,r=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",k(p+r,function(){n.navigateByImgClick&&t.wrap.on("click"+r,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),i.on("keydown"+r,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+r,function(e,n){n.text&&(n.text=X(n.text,t.currItem.index,t.items.length))}),k(d+r,function(e,r,i,o){var a=t.items.length;i.counter=a>1?X(n.tCounter,o.index,a):""}),k("BuildControls"+r,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var r=n.arrowMarkup,i=t.arrowLeft=e(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(b),a=t.arrowRight=e(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(b),s=o?"mfpFastClick":"click";i[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(T("b",i[0],!1,!0),T("a",i[0],!1,!0),T("b",a[0],!1,!0),T("a",a[0],!1,!0)),t.container.append(i.add(a))}}),k(h+r,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),k(l+r,function(){i.off(r),t.wrap.off("click"+r),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=V(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=V(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,r=Math.min(n[0],t.items.length),i=Math.min(n[1],t.items.length);for(e=1;(t.direction?i:r)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?r:i)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=V(n),!t.items[n].preloaded){var r=t.items[n];r.parsed||(r=t.parseEl(n)),E("LazyLoad",r),"image"===r.type&&(r.img=e('<img class="mfp-img" />').on("load.mfploader",function(){r.hasSize=!0}).on("error.mfploader",function(){r.hasSize=!0,r.loadError=!0,E("LazyLoadError",r)}).attr("src",r.src)),r.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(k("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),k("ElementParse."+U,function(t,r){r.src=e.replaceSrc(r,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,r=function(){C.off("touchmove"+o+" touchend"+o)},i="mfpFastClick",o="."+i;e.fn.mfpFastClick=function(i){return e(this).each(function(){var a,s=e(this);if(n){var l,c,u,f,d,p;s.on("touchstart"+o,function(e){f=!1,p=1,d=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=d.clientX,u=d.clientY,C.on("touchmove"+o,function(e){d=e.originalEvent?e.originalEvent.touches:e.touches,p=d.length,d=d[0],(Math.abs(d.clientX-c)>10||Math.abs(d.clientY-u)>10)&&(f=!0,r())}).on("touchend"+o,function(e){r(),f||p>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),i())})})}s.on("click"+o,function(){a||i()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),n&&C.off("touchmove"+o+" touchend"+o)}}(),j()}(window.jQuery||window.Zepto),n("magnific-popup",["jquery"],function(){}),!function(e,t){var r,i=e.document;r=function(){var n,r,o,a,s,l,c,u,f,d,p,h,m,g={},v={},y=!1,b={ENTER:13,ESC:27,SPACE:32},x=[];return v={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},m=function(){var e,n,r=!1,o=i.createElement("fakeelement"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(e in a)if(o.style[e]!==t){n=a[e],r=!0;break}return{type:n,supported:r}},n=function(e){return i.getElementById(e)},g={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:t,addListeners:function(e){var t,n,l,c,u,f="undefined"!=typeof o,d="undefined"!=typeof r,p="undefined"!=typeof h,m="",g=this;t=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),l(t),"undefined"!=typeof h&&(m=h.value),"function"==typeof e&&("undefined"!=typeof h?e(!0,m):e(!0)),!1},n=function(t){return"undefined"!=typeof t.preventDefault&&t.preventDefault(),l(t),"function"==typeof e&&e(!1),!1},l=function(){g.hide(),g.unbind(i.body,"keyup",c),g.unbind(a,"focus",u),f&&g.unbind(o,"click",t),d&&g.unbind(r,"click",n)},c=function(e){var r=e.keyCode;(r===b.SPACE&&!p||p&&r===b.ENTER)&&t(e),r===b.ESC&&d&&n(e)},u=function(){p?h.focus():!d||g.buttonReverse?o.focus():r.focus()},this.bind(a,"focus",u),this.bind(s,"focus",u),f&&this.bind(o,"click",t),d&&this.bind(r,"click",n),this.bind(i.body,"keyup",c),this.transition.supported||this.setFocus()},bind:function(e,t,n){"function"==typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},handleErrors:function(){if("undefined"!=typeof e.onerror){var t=this;return e.onerror=function(e,n,r){t.error("["+e+" on line "+r+" of "+n+"]",0)},!0}return!1},appendButtons:function(e,t){return this.buttonReverse?t+e:e+t},build:function(e){var t="",n=e.type,r=e.message,i=e.cssClass||"";switch(t+='<div class="alertify-dialog">',t+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>',"none"===g.buttonFocus&&(t+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===n&&(t+='<div id="alertify-form">'),t+='<article class="alertify-inner">',t+=v.message.replace("{{message}}",r),"prompt"===n&&(t+=v.input),t+=v.buttons.holder,t+="</article>","prompt"===n&&(t+="</div>"),t+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',t+="</div>",n){case"confirm":t=t.replace("{{buttons}}",this.appendButtons(v.buttons.cancel,v.buttons.ok)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);
break;case"prompt":t=t.replace("{{buttons}}",this.appendButtons(v.buttons.cancel,v.buttons.submit)),t=t.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":t=t.replace("{{buttons}}",v.buttons.ok),t=t.replace("{{ok}}",this.labels.ok)}return f.className="alertify alertify-"+n+" "+i,u.className="alertify-cover",t},close:function(e,t){var n,r,i=t&&!isNaN(t)?+t:this.delay,o=this;this.bind(e,"click",function(){n(e)}),r=function(e){e.stopPropagation(),o.unbind(this,o.transition.type,r),d.removeChild(this),d.hasChildNodes()||(d.className+=" alertify-logs-hidden")},n=function(e){"undefined"!=typeof e&&e.parentNode===d&&(o.transition.supported?(o.bind(e,o.transition.type,r),e.className+=" alertify-log-hide"):(d.removeChild(e),d.hasChildNodes()||(d.className+=" alertify-logs-hidden")))},0!==t&&setTimeout(function(){n(e)},i)},dialog:function(e,t,n,r,o){c=i.activeElement;var a=function(){d&&null!==d.scrollTop&&u&&null!==u.scrollTop||a()};if("string"!=typeof e)throw new Error("message must be a string");if("string"!=typeof t)throw new Error("type must be a string");if("undefined"!=typeof n&&"function"!=typeof n)throw new Error("fn must be a function");return this.init(),a(),x.push({type:t,message:e,callback:n,placeholder:r,cssClass:o}),y||this.setup(),this},extend:function(e){if("string"!=typeof e)throw new Error("extend method must have exactly one paramter");return function(t,n){return this.log(t,e,n),this}},hide:function(){var e,t=this;x.splice(0,1),x.length>0?this.setup(!0):(y=!1,e=function(n){n.stopPropagation(),t.unbind(f,t.transition.type,e)},this.transition.supported?(this.bind(f,this.transition.type,e),f.className="alertify alertify-hide alertify-hidden"):f.className="alertify alertify-hide alertify-hidden alertify-isHidden",u.className="alertify-cover alertify-cover-hidden",c.focus())},init:function(){i.createElement("nav"),i.createElement("article"),i.createElement("section"),null==n("alertify-cover")&&(u=i.createElement("div"),u.setAttribute("id","alertify-cover"),u.className="alertify-cover alertify-cover-hidden",i.body.appendChild(u)),null==n("alertify")&&(y=!1,x=[],f=i.createElement("section"),f.setAttribute("id","alertify"),f.className="alertify alertify-hidden",i.body.appendChild(f)),null==n("alertify-logs")&&(d=i.createElement("section"),d.setAttribute("id","alertify-logs"),d.className="alertify-logs alertify-logs-hidden",i.body.appendChild(d)),i.body.setAttribute("tabindex","0"),this.transition=m()},log:function(e,t,n){var r=function(){d&&null!==d.scrollTop||r()};return this.init(),r(),d.className="alertify-logs",this.notify(e,t,n),this},notify:function(e,t,n){var r=i.createElement("article");r.className="alertify-log"+("string"==typeof t&&""!==t?" alertify-log-"+t:""),r.innerHTML=e,d.appendChild(r),setTimeout(function(){r.className=r.className+" alertify-log-show"},50),this.close(r,n)},set:function(e){var t;if("object"!=typeof e&&e instanceof Array)throw new Error("args must be an object");for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},setFocus:function(){h?(h.focus(),h.select()):l.focus()},setup:function(e){var i,c=x[0],u=this;y=!0,i=function(e){e.stopPropagation(),u.setFocus(),u.unbind(f,u.transition.type,i)},this.transition.supported&&!e&&this.bind(f,this.transition.type,i),f.innerHTML=this.build(c),a=n("alertify-resetFocus"),s=n("alertify-resetFocusBack"),o=n("alertify-ok")||t,r=n("alertify-cancel")||t,l="cancel"===g.buttonFocus?r:"none"===g.buttonFocus?n("alertify-noneFocus"):o,h=n("alertify-text")||t,p=n("alertify-form")||t,"string"==typeof c.placeholder&&""!==c.placeholder&&(h.value=c.placeholder),e&&this.setFocus(),this.addListeners(c.callback)},unbind:function(e,t,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},{alert:function(e,t,n){return g.dialog(e,"alert",t,"",n),this},confirm:function(e,t,n){return g.dialog(e,"confirm",t,"",n),this},extend:g.extend,init:g.init,log:function(e,t,n){return g.log(e,t,n),this},prompt:function(e,t,n,r){return g.dialog(e,"prompt",t,n,r),this},success:function(e,t){return g.log(e,"success",t),this},error:function(e,t){return g.log(e,"error",t),this},set:function(e){g.set(e)},labels:g.labels,debug:g.handleErrors}},"function"==typeof n?n("alertify",[],function(){return new r}):"undefined"==typeof e.alertify&&(e.alertify=new r)}(this),n("modules/CharacterSummaryView",["require","exports","module","underscore","jquery","toastr","backbone","text!templates/character-summary.html","magnific-popup","alertify"],function(e){var t=e("underscore"),n=e("jquery");e("toastr");var r=e("backbone"),i=e("text!templates/character-summary.html");e("magnific-popup");var o=e("alertify"),a=r.View.extend({template:t.template(i),events:{"click #report":"reportPlayer","click #wrong-gender":"wrongGender"},initialize:function(e){this.options=e||{},document.title=this.model.get("name")+" - "+document.title},wrongGender:function(){var e=this.model.get("characterId");n.ajax({type:"POST",url:"/api/report/gender",data:{characterId:e},success:function(e){o.success(e.message)},error:function(e){o.error(e.responseJSON.message)}})},reportPlayer:function(){var e=this.$el.find("#report"),t=this.model.get("characterId");n.ajax({type:"POST",url:"/api/report",data:this.model.toJSON(),success:function(n){-1!==n.message.indexOf("deleted")?(o.success(n.message),r.history.navigate("/",{trigger:!0})):o.success(n.message),e.attr("disabled",!0),localStorage["reported-"+t]="True"},error:function(e){o.error(e.responseJSON.message)}})},render:function(){var e={model:this.model.toJSON(),winLossRatio:this.options.winLossRatio};return this.$el.html(this.template(e)),"True"===localStorage["reported-"+this.model.get("characterId")]&&this.$el.find("#report").attr("disabled",!0),this.$el.find(".magnific-popup").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"my-mfp-zoom-in"}),this},selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")}});return a}),n("modules/SearchView",["require","exports","module","underscore","jquery","backbone"],function(e){e("underscore");var t=e("jquery"),n=e("backbone"),r=n.View.extend({el:t(".navbar"),initialize:function(e){this.options=e||{},t("#search").attr("placeholder",this.options.count+" capsuleers")},events:{"submit form":"submit"},submit:function(e){e.preventDefault();var r=this.$el.find("input").val();r&&t.post("/api/characters/search",{name:r},function(e){e&&n.history.navigate("/characters/"+e.characterId,{trigger:!0})})}});return r}),n("text!templates/leaderboard-item.html",[],function(){return'<a href="#characters/<%= characterId %>" class="tip" rel="tooltip"\n   title="Wins: <%= wins %> &rarr; Losses: <%= losses %>">\n  <img src="http://image.eveonline.com/Character/<%= characterId %>_64.jpg">\n</a>'}),n("modules/LeaderboardItemView",["require","exports","module","underscore","jquery","backbone","text!templates/leaderboard-item.html"],function(e){var t=e("underscore");e("jquery");var n=e("backbone"),r=e("text!templates/leaderboard-item.html"),i=n.View.extend({tagName:"li",template:t.template(r),render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});return i}),n("modules/LeaderboardView",["require","exports","module","underscore","jquery","backbone","modules/LeaderboardItemView"],function(e){e("underscore"),e("jquery");var t=e("backbone"),n=e("modules/LeaderboardItemView"),r=t.View.extend({tagName:"ul",className:"inline",render:function(){return this.collection.each(function(e){var t=new n({model:e});this.$el.append(t.render().el)},this),this}});return r}),n("text!templates/character-thumbnail.html",[],function(){return'<img class="img-polaroid character-thumbnail animated fadeInUp"\n     src="http://image.eveonline.com/Character/<%= characterId %>_512.jpg">\n\n<ul class="list-inline pagination-centered">\n  <li><strong>Race:</strong> <%= race %></li>\n  <li><strong>Bloodline:</strong> <%= bloodline %></li>\n</ul>\n\n<div class="lead pagination-centered">\n  <img src="../img/<%= race %>.png">\n  <a href="#characters/<%= characterId %>"><%= name %></a>\n</div>\n'}),n("modules/CharacterThumbnailView",["require","exports","module","underscore","jquery","backbone","text!templates/character-thumbnail.html"],function(e){var t=e("underscore");e("jquery");var n=e("backbone"),r=e("text!templates/character-thumbnail.html"),i=n.View.extend({tagName:"li",className:"span6",template:t.template(r),events:{"click img":"updateWinner"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.find("img").on("dragstart",function(e){e.preventDefault()}),this},updateWinner:function(){this.model.set("wins",this.model.get("wins")+1)}});return i}),n("text!templates/home.html",[],function(){return'<p class="lead pagination-centered">Click on the portrait. Select your favorite.</p>\n'}),n("modules/HomeView",["require","exports","module","underscore","jquery","backbone","modules/CharacterCollection","modules/CharacterThumbnailView","text!templates/home.html","alertify"],function(e){var t=e("underscore"),n=e("jquery"),r=e("backbone");e("modules/CharacterCollection");var i=e("modules/CharacterThumbnailView"),o=e("text!templates/home.html"),a=e("alertify"),s=r.View.extend({tagName:"ul",className:"thumbnails",template:t.template(o),initialize:function(){t.bindAll(this,"vote"),this.collection.on("change:wins",this.vote,this)},render:function(){return this.$el.html(this.template()),this.collection.each(this.addOne,this),this},vote:function(e){var t=this.collection.at(Math.abs(1-this.collection.indexOf(e)));t.set("losses",t.get("losses")+1);var r=this;n.ajax({url:"/api/characters",type:"PUT",data:{winner:e.get("characterId"),loser:t.get("characterId")},success:function(){r.collection.fetch({url:"/api/characters",success:function(e){e.length<2?r.$el.html('<div class="alert alert-info"><h4>No more characters left this round. Please refresh the page.</h4></div>'):r.render()},error:function(e){a.error(e.message)}})},error:function(e){a.error(e.responseJSON.message)}})},addOne:function(e){var t=new i({model:e});this.$el.append(t.render().el)},selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")}});return s}),n("text!templates/gender.html",[],function(){return'<span class="position pull-left"><%= position %></span>\n<a class="pull-left" href="/characters/<%= model.characterId %>">\n  <img class="media-object" src="http://image.eveonline.com/Character/<%= model.characterId %>_128.jpg">\n</a>\n<div class="media-body">\n  <h4 class="media-heading"><a href="#characters/<%= model.characterId %>"><%= model.name %></a></h4>\n\n  <p>\n    <strong>Race:</strong> <%= model.race %>\n    <br>\n    <strong>Bloodline:</strong> <%= model.bloodline %>\n    <br>\n    <strong>Gender:</strong> <%= model.gender %>\n  </p>\n  <button id="female" class="btn btn-danger">Female</button>\n  <button id="male" class="btn btn-primary">Male</button>\n</div>'}),n("modules/CharacterGenderView",["require","exports","module","underscore","jquery","backbone","text!templates/gender.html"],function(e){var t=e("underscore"),n=e("jquery"),r=e("backbone"),i=e("text!templates/gender.html"),o=r.View.extend({tagName:"li",className:"media",template:t.template(i),events:{"click #female":"female","click #male":"male"},initialize:function(e){this.options=e||{}},render:function(){var e={model:this.model.toJSON(),position:this.options.position};return this.$el.html(this.template(e)),this},female:function(){var e=this;e.$el.remove(),n.post("/api/gender",{characterId:this.model.get("characterId"),gender:"female"},function(){return!1})},male:function(){var e=this;e.$el.remove(),n.post("/api/gender",{characterId:this.model.get("characterId"),gender:"male"},function(){return!1})}});return o}),n("modules/WrongGenderView",["require","exports","module","underscore","jquery","backbone","modules/CharacterGenderView","text!templates/menu-leaderboard.html"],function(e){var t=e("underscore"),n=e("jquery"),r=e("backbone"),i=e("modules/CharacterGenderView"),o=e("text!templates/menu-leaderboard.html"),a=r.View.extend({tagName:"li",className:"media",template:t.template(o),selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")},addOne:function(e,t){var n=new i({model:e,position:t+1});this.$el.append(n.render().el)},render:function(){return n("#content").html(this.template()),this.collection.each(this.addOne,this),this}});return a}),n("text!templates/add-character.html",[],function(){return'<div class="panel">\n  <h4>Add Character</h4>\n\n  <form class="form-inline">\n    <div class="control-group">\n      <label for="addcharacter">Character Name</label>\n      <div class="controls">\n        <input type="text" id="addcharacter" name="addcharacter" autofocus>\n        <button type="submit" class="btn btn-small btn-primary">Submit</button>\n        <span class="help-block"></span>\n\n        <label class="radio">\n          <input type="radio" name="genderRadios" value="female">\n          Female\n        </label>\n        <label class="radio">\n          <input type="radio" name="genderRadios" value="male">\n          Male\n        </label>\n      </div>\n    </div>\n  </form>\n</div>'}),n("modules/AddCharacterView",["require","exports","module","underscore","jquery","toastr","alertify","backbone","modules/CharacterModel","text!templates/add-character.html"],function(e){var t=e("underscore"),n=e("jquery");e("toastr");var r=e("alertify"),i=e("backbone"),o=e("modules/CharacterModel"),a=e("text!templates/add-character.html"),s=i.View.extend({template:t.template(a),events:{"submit form":"submit"},render:function(){return this.$el.html(this.template()),this},submit:function(e){e.preventDefault();var t=this.$el.find(".help-block"),n=this.$el.find(".control-group"),a=this.$el.find("input[name=addcharacter]"),s=this.$el.find("button"),l=this.$el.find("input:radio[name=genderRadios]:checked").val();if(!l)return r.error("Please specify character's gender");var c=new o({name:a.val(),gender:l});c.save(null,{success:function(){i.history.navigate("#",{trigger:!0}),r.success("Character has been added successfully")},error:function(e,i){n.addClass("error"),s.removeClass("btn-primary").addClass("btn-danger"),a.focus(),409===i.status?t.html('<a href="#characters/'+i.responseJSON.characterId+'">'+e.get("name")+"</a> is already in our system."):(t.text(a.val()+" is not a registered citizen of New Eden"),r.error(i.responseJSON.message))}})},selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")}});return s}),n("chart",function(e){return function(){var t;return t||e.Chart}}(this)),n("text!templates/stats.html",[],function(){return'<table class="table table-striped table-bordered">\n  <thead>\n  <tr>\n    <th>Stats</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td>\n      Leading race in Top 100\n    </td>\n    <td><%= leadingRace.race %> with <%= leadingRace.count %> characters</td>\n  </tr>\n  <tr>\n    <td>\n      Leading bloodline in Top 100\n    </td>\n    <td><%= leadingBloodline.bloodline %> with <%= leadingBloodline.count %> characters</td>\n  </tr>\n  <tr>\n    <td>Amarr Characters</td>\n    <td><%= amarrCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Caldari Characters\n    </td>\n    <td><%= caldariCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Gallente Characters\n    </td>\n    <td><%= gallenteCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Minmatar Characters\n    </td>\n    <td><%= minmatarCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Total votes cast\n    </td>\n    <td><%= totalVotes %></td>\n  </tr>\n  <tr>\n    <td>\n      Female characters\n    </td>\n    <td><%= femaleCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Male characters\n    </td>\n    <td><%= maleCount %></td>\n  </tr>\n  <tr>\n    <td>\n      Total number of characters\n    </td>\n    <td><%= totalCount %></td>\n  </tr>\n\n  </tbody>\n</table>\n'}),n("modules/StatsView",["require","exports","module","underscore","jquery","backbone","chart","text!templates/stats.html"],function(e){var t=e("underscore"),n=e("jquery"),r=e("backbone");e("chart");var i=e("text!templates/stats.html"),o=r.View.extend({template:t.template(i),initialize:function(e){this.options=e||{}},render:function(){return this.$el.html(this.template(this.options.stats)),this},selectMenuItem:function(e){n(".navbar .nav li").removeClass("active"),e&&n("."+e).addClass("active")}});return o}),n("router",["require","exports","module","underscore","jquery","backbone","modules/CharacterModel","modules/CharacterCollection","modules/CharacterCollectionView","modules/CharacterSummaryView","modules/SearchView","modules/LeaderboardView","modules/HomeView","modules/WrongGenderView","modules/AddCharacterView","modules/StatsView"],function(e,t,n){e("underscore");var r=e("jquery"),i=e("backbone"),o=e("modules/CharacterModel"),a=e("modules/CharacterCollection"),s=e("modules/CharacterCollectionView"),l=e("modules/CharacterSummaryView"),c=e("modules/SearchView"),u=e("modules/LeaderboardView"),f=e("modules/HomeView"),d=e("modules/WrongGenderView"),p=e("modules/AddCharacterView"),h=e("modules/StatsView");n.exports=i.Router.extend({initialize:function(){r.get("/api/characters/all",function(e){new c({count:e.count})});var e=new a;e.fetch({url:"/api/leaderboard",success:function(e){var t=new u({collection:e});r(".footer #leaderboard").html(t.render().el)}})},routes:{"":"home",add:"addCharacter","new":"newCharacters",top:"topCharacters",male:"maleCharacters",female:"femaleCharacters",stats:"stats","wrong-gender":"wrongGender","hall-of-shame":"hallOfShame","top/:race":"topRace","male/:race":"maleRace","female/:race":"femaleRace","characters/:id":"characterDetails","top/:race/:bloodline":"topBloodline","male/:race/:bloodline":"maleBloodline","female/:race/:bloodline":"femaleBloodline"},stats:function(){r.get("/api/stats",function(e){var t=new h({stats:e});r("#content").html(t.render().el),t.selectMenuItem("stats-menu")})},home:function(){var e=new a;e.fetch({success:function(e){var t=new f({collection:e});r("#content").html(t.render().el),t.selectMenuItem("home-menu")}})},newCharacters:function(){var e=new a;e.fetch({url:"/api/characters/new",error:function(){console.log("Error Not Implemented")},success:function(){var t=new s({collection:e});r("#content").html('<div class="panel"></div>'),r(".panel").html(t.render().el),t.selectMenuItem("new-menu")}})},topBloodline:function(e,t){var n=new a;n.fetch({url:"/api/characters/top?race="+e+"&bloodline="+t,success:function(){var e=new s({collection:n});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-menu")}})},topCharacters:function(){var e=new a;e.fetch({url:"/api/characters/top",success:function(){var t=new s({collection:e});r("#content").html('<div class="panel"></div>'),r(".panel").html(t.render().el),t.selectMenuItem("top-menu")}})},wrongGender:function(){var e=new a;e.fetch({url:"/api/characters/wrong-gender",success:function(){var t=new d({collection:e});r("#content").html(t.render().el),t.selectMenuItem("top-menu")}})},hallOfShame:function(){var e=new a;e.fetch({url:"/api/characters/shame",success:function(){var t=new s({collection:e});r("#content").html('<div class="panel"></div>'),r(".panel").html(t.render().el),t.selectMenuItem("hall-of-shame-menu")}})},topRace:function(e){var t=new a;t.fetch({url:"/api/characters/top/?race="+e,success:function(){var e=new s({collection:t});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-menu")}})},maleRace:function(e){var t=new a;t.fetch({url:"/api/characters/top?gender=male&race="+e,success:function(){var e=new s({collection:t});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-male")}})},femaleRace:function(e){var t=new a;t.fetch({url:"/api/characters/top?gender=female&race="+e,success:function(){var e=new s({collection:t});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-female")}})},maleBloodline:function(e,t){var n=new a;n.fetch({url:"/api/characters/top?gender=male&race="+e+"&bloodline="+t,success:function(){var e=new s({collection:n});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-male")}})},femaleBloodline:function(e,t){var n=new a;n.fetch({url:"/api/characters/top?gender=female&race="+e+"&bloodline="+t,success:function(){var e=new s({collection:n});r("#content").html('<div class="panel"></div>'),r(".panel").html(e.render().el),e.selectMenuItem("top-female")}})},maleCharacters:function(){var e=new a;e.fetch({url:"/api/characters/top?gender=male",success:function(){var t=new s({collection:e});r("#content").html('<div class="panel"></div>'),r(".panel").html(t.render().el),t.selectMenuItem("top-male")}})},femaleCharacters:function(){var e=new a;e.fetch({url:"/api/characters/top?gender=female",success:function(){var t=new s({collection:e});r("#content").html('<div class="panel"></div>'),r(".panel").html(t.render().el),t.selectMenuItem("top-female")}})},addCharacter:function(){var e=new p;e.selectMenuItem("add-menu"),r("#content").html(e.render().el)},characterDetails:function(e){var t=new o({characterId:e});t.fetch({error:function(){r("#content").html('<h2 class="lead">404: Not Found</h1>')},success:function(e){var t=(100*(e.get("wins")/(e.get("wins")+e.get("losses")))).toFixed(1);isNaN(t)&&(t=0);var n=new l({model:e,winLossRatio:t});r("#content").html(n.render().el),r("#wrap").css("background-image","url(../img/"+e.get("race")+"-bg.jpg)"),r(".navbar").addClass("bg").addClass("bg-black"),r(".footer").addClass("transparent"),r(".dropdown-menu").addClass("bg-inverse"),n.selectMenuItem()}})}})}),t(["config"],function(){t(["app","router"],function(e,t){e.router=new t,e.router.bind("all",function(){$("#wrap").css("background-image","none"),$(".navbar").removeClass("bg").removeClass("bg-black"),$(".footer").removeClass("transparent"),$(".dropdown-menu").removeClass("bg-inverse")}),Backbone.history.start()})}),n("main",function(){})}();